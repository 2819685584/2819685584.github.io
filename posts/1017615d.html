<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>MCP知识以及三种通信机制对比 | Liu's  Blog</title><meta name="author" content="LHF"><meta name="copyright" content="LHF"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="MCP相关知识及其三种通信机制（SSE、Stdio、StreamableHTTP）">
<meta property="og:type" content="article">
<meta property="og:title" content="MCP知识以及三种通信机制对比">
<meta property="og:url" content="https://liuhengfeng.xyz/posts/1017615d.html">
<meta property="og:site_name" content="Liu&#39;s  Blog">
<meta property="og:description" content="MCP相关知识及其三种通信机制（SSE、Stdio、StreamableHTTP）">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://statics.liuhengfeng.xyz/Hexo/PixPin_2025-06-06_00-40-46.jpg">
<meta property="article:published_time" content="2025-06-05T16:42:40.000Z">
<meta property="article:modified_time" content="2025-07-27T09:40:40.000Z">
<meta property="article:author" content="LHF">
<meta property="article:tag" content="笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://statics.liuhengfeng.xyz/Hexo/PixPin_2025-06-06_00-40-46.jpg"><link rel="shortcut icon" href="https://statics.liuhengfeng.xyz/Hexo/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20240907191402.jpg"><link rel="canonical" href="https://liuhengfeng.xyz/posts/1017615d.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":290},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-right"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MCP知识以及三种通信机制对比',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-07-27 17:40:40'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="https://statics.liuhengfeng.xyz/css/custom.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://statics.liuhengfeng.xyz/css/universe.css"><span id="fps"></span><link rel="stylesheet" href="https://statics.liuhengfeng.xyz/css/hexo_electric_clock.css"><link rel="stylesheet" href="/css/bottom_runtime.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/element-ui@2.15.6/lib/theme-chalk/index.css"><link rel="stylesheet" href="/css/calendar.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><link rel="stylesheet" href="https://unpkg.zhimg.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://statics.liuhengfeng.xyz/css/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/css/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (false) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><script>window.paceOptions = {
  restartOnPushState: false
}

document.addEventListener('pjax:send', () => {
  Pace.restart()
})
</script><link rel="stylesheet" href="https://statics.liuhengfeng.xyz/css/progress_bar.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/u%3D1968668429%2C2104382916%26fm%3D253%26fmt%3Dauto%26app%3D138%26f%3DJPEG.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">75</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">23</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://statics.liuhengfeng.xyz/Hexo/PixPin_2025-06-06_00-40-46.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Liu's  Blog"><img class="site-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/2876f803-ae9a-49ac-bcd9-9d623c5beb03.jpg"/><span class="site-name">Liu's  Blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">MCP知识以及三种通信机制对比</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-06-05T16:42:40.000Z" title="发表于 2025-06-06 00:42:40">2025-06-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-07-27T09:40:40.000Z" title="更新于 2025-07-27 17:40:40">2025-07-27</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">5.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>17分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="MCP知识以及三种通信机制对比"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="扩展知识"><a href="#扩展知识" class="headerlink" title="扩展知识"></a>扩展知识</h1><p> 假设在本地电脑用Python写了一个爬虫程序，这个程序可以爬取B站某UP主的粉丝数量，只要把LLM和这个爬虫程序结合起来，把爬虫程序的返回结果传递大模型，LLM就能知道某UP主有多少粉丝了，相当于LLM突破了预训练知识库的限制，回答了用户提出的实时性问题，并且回答结果是准确的。</p>
<blockquote>
<p>如何让LLM调用这个本地程序呢?</p>
</blockquote>
<p>爬虫程序存储在用户本地电脑上，LLM部署在模型提供商机房里，跟本地爬虫程序不在一个局域网上，LLM无法直接访问用户电脑上的程序进行调用。<strong>没有什么是加一层中间层解决不了的</strong>。可以再写一个程序（中介程序），通过API调用的方式来访问LLM，而不是直接通过官网的Web界面进行对话。通过代码的方式再向LLM提问，中介程序就会把用户提出的问题连同本地工具库的使用说明书一起发送给LLM，LLM分析用户提出的问题之后，发现需要用到某个工具，就会向中介程序返回调用信息，说明要调用某个工具以及传入工具的参数一起返回，中介程序收到后，按照AI的要求调用工具（一般是本地程序），并把工具返回的结果再次传递给LLM，LLM分析工具输出的内容后，整合最终答复返回给了中介程序（一般中介程序会自带问答展示UI界面，能显示人与AI交流的问题）。</p>
<p><strong>中介程序可以是<code>Claude Desktop</code>、<code>Cherry Studio</code>、<code>Cursor</code>、<code>Cline</code>、<code>Dify</code>、<code>Coze</code>等，既包含桌面客户端，又有开发工具客户端，还有插件方式已经低代码开发平台的方式。</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/image-20250727151201483.png" alt="过程"></p>
<blockquote>
<p>工具使用说明书应该以什么方式传递给大模型？</p>
</blockquote>
<p><strong>只要程序可交互，就一定有接口标准！！MCP也只是制定了一个标准，信息交互标准内容由具体的SDK实现，最核心的逻辑代码内容由用户编写，其他的都交给SDK实现</strong></p>
<p>最开始的时候，工具使用说明书是直接写在提示词里的，用户可以自己定义一套对接方式，把工具的名称、功能、参数、返回值都描述清楚，并且约定好如果要调用某个工具，返回的内容应该是什么样的。但是早期的时候AI还不够聪明，遵循指令的效果并不好，无法按照提示词中的要求返回内容（可能是智商不够，无法理解写在提示词里面自定义的各种规范），进而无法达到很好地使用工具的效果。</p>
<hr>
<p>+++</p>
<p>+++</p>
<p><strong>Next</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/image-20250727153448877.png" alt="OpenAI-Function calling规范"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 上述翻译</span><br><span class="line">您可以通过函数调用让模型访问您自己的自定义代码。根据系统提示和消息，模型可能会决定调用这些函数——而不是（或除了）生成文本或音频。然后，您将执行函数代码，发回结果，模型会将它们合并到最终响应中。</span><br></pre></td></tr></table></figure>

<p>后来，OpenAI整了个规范（<code>Function calling</code>），把工具传递的过程进行了标准化，规范了工具使用说明书应该放在哪里、传递格式是什么、返回格式是什么，把相关内容都约定好。<strong>其实就是独立使用一个JSON来描述外部工具的相关信息，实现和用户显示的输入提示词分离（背后应该也是用的提示词技术实现，但是不包含在用户输入的提示词中）</strong>，以便AI能更清楚这些工具的用法；同时，AI返回的结果中也用专门的字段来明确需要调用哪些工具以及传入的工具参数是什么。</p>
<blockquote>
<p>好好品鉴一下这段话</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">工具说明全放在提示词里是为了兼容市面上所有模型,其实openAI的function calling本质也是放在提示词里,只不过gpt的代码里给你封装了一层叫function calling的东西罢了,function calling也只是把指令按照约定的格式包装成提示词而已，只不过这个大模型可能针对这种格式做过调优，或者仅仅是系统提示词里有针对性的描述而已。一切大模型的调用最终都还是回到文本提示词。要记住,模型永远只能接受一段文本,是的,只有一段,无法并行读取,也无法分开,不管任何技术都是合并到一堆字符串里去,能不能完美理解出来全看LLM的智能程度,gpt刚出来的时候,我看到function calling就没去学了,因为这玩意只能GPT用,无法泛化到所有模型,现在的MCP封装了一层,弥补了function calling的短板,但如果你用的是ChatGPT api,那么MCP可以说是废的,多此一举,因为更消耗token,由于function calling是gpt源码里内置的,所以使用function calling的部分不计算token,更省钱,但现如今的技术肯定更看重泛化能力,谁都不想被一个LLM绑死,所以MCP是主流,但我认为这也不过是过渡性的产物罢了,海量的token消耗是个必须要解决的问题,如果MCP的源码在用GPT的时候,会自动转换成function calling来节省token,到后面LLM为了吸引用户,肯定会都内置function calling功能,这时MCP就变成了臃肿的老框架,因为它有很多适配的底层代码,这时候又会有一个新框架出现,主打效率、干净、整洁、无污染、低token,真香,计算机就是这样的,总是在封装,但封装过渡又无法很好向下兼容,所以又重开一个框架主打效率、简化,总是这么跳来跳去。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">from openai import OpenAI</span><br><span class="line"></span><br><span class="line">client = OpenAI()</span><br><span class="line"></span><br><span class="line">tools = [&#123;</span><br><span class="line">    &quot;type&quot;: &quot;function&quot;,</span><br><span class="line">    &quot;function&quot;: &#123;</span><br><span class="line">        &quot;name&quot;: &quot;get_weather&quot;,</span><br><span class="line">        &quot;description&quot;: &quot;Get current temperature for a given location.&quot;,</span><br><span class="line">        &quot;parameters&quot;: &#123;</span><br><span class="line">            &quot;type&quot;: &quot;object&quot;,</span><br><span class="line">            &quot;properties&quot;: &#123;</span><br><span class="line">                &quot;location&quot;: &#123;</span><br><span class="line">                    &quot;type&quot;: &quot;string&quot;,</span><br><span class="line">                    &quot;description&quot;: &quot;City and country e.g. Bogotá, Colombia&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;required&quot;: [</span><br><span class="line">                &quot;location&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;additionalProperties&quot;: False</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;strict&quot;: True</span><br><span class="line">    &#125;</span><br><span class="line">&#125;]</span><br><span class="line"></span><br><span class="line">completion = client.chat.completions.create(</span><br><span class="line">    model=&quot;gpt-4.1&quot;,</span><br><span class="line">    messages=[&#123;&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;What is the weather like in Paris today?&quot;&#125;],</span><br><span class="line">    tools=tools</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">print(completion.choices[0].message.tool_calls)</span><br><span class="line"></span><br><span class="line"># output</span><br><span class="line">[&#123;</span><br><span class="line">    &quot;id&quot;: &quot;call_12345xyz&quot;,</span><br><span class="line">    &quot;type&quot;: &quot;function&quot;,</span><br><span class="line">    &quot;function&quot;: &#123;</span><br><span class="line">        &quot;name&quot;: &quot;get_weather&quot;,</span><br><span class="line">        &quot;arguments&quot;: &quot;&#123;\&quot;location\&quot;:\&quot;Paris, France\&quot;&#125;&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/image-20250727154343172.png" alt="调用过程"></p>
<blockquote>
<p>从HTTP到MCP</p>
</blockquote>
<p>在<code>Coze</code>和<code>Dify</code>等低代码开发平台上，所有外部工具都可以通过HTTP暴露接口出来，用户可以在这两个平台上把外部工具的<code>API schema</code>配置好，Dify把<code>API schema</code>信息转换为标准的<code>Function Calling</code>工具说明书格式，从而实现让AI调用外部工具的功能。在Dify上，要为每一个外部工具编写一个<code>API schema</code>，才能内置转换为<code>Function Calling</code>格式的说明书，而一个AI智能体可能有上百个外部工具，每一个都需要编写<code>API schema</code>，非常麻烦，如果后续接口有变化还要手动进行更新维护。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/image-20250727155859618.png" alt="API Schema转换"></p>
<p>因为上面的操作过程太过麻烦，不如直接把麻烦丢给给MCP Server供应端，在写MCP Server的时候就把上面的事情做了（实际应该是SDK内部做的）。此时外部工具不必由开发人员手动将HTTP API暴露出来，而是套上了一层MCP壳，通过这个壳统一对外提供服务。<code>Client</code>和<code>Server</code>之间使用的通信协议就是MCP协议，容纳<code>MCP Client</code>的中介程序就是<code>MCP Host</code>（Claude桌面程序、VSCode的Cline插件等）。</p>
<p>之后，可以使用MCP官方的SDK快速开发外部工具，通过装饰器<code>@mcp.tool(&quot;func&quot;,description=&#39;xxx&#39;)</code>的方式非常简洁地实现工具函数，无需再编写web server来暴露函数（SSE方式会自动暴露，stdio方式无需暴露），也无需编写繁琐的<code>API schema</code>文件来描述工具函数，里面的细节都由MCP的SDK封装好了。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/image-20250727155600840.png" alt="image-20250727155600840"></p>
<blockquote>
<p>编写MCP Server代码</p>
</blockquote>
<p>工具函数备注内容非常重要，传统的备注是给程序员看的，但是MCP服务的备注是给大模型看的，它通过备注理解接口的功能。在<code>get_desktop_files()</code>方法前面增加<code>@mcp.tool()</code>装饰器，这个是MCP SDK规范，用于MCP的客户端自动发现MCP Server提供的能力。</p>
<p>接下来就可以在MCP Host中配置MCP Server了，配置方法参见各种工具，如Cursor、Cherry Studio、VSCode等。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">from mcp.server.fastmcp import FastMCP</span><br><span class="line">mcp = FastMCP()</span><br><span class="line">@mcp.tool()</span><br><span class="line">def get_desktop_files():</span><br><span class="line">    &quot;&quot;&quot;获取桌面上的文件列表&quot;&quot;&quot;    </span><br><span class="line">    return os.listdir(os.path.expanduser(&quot;~/Desktop&quot;))</span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    mcp.run(transport=&#x27;stdio&#x27;)	# 选择stdio通信方式运行</span><br><span class="line">    # mcp.run(transport=&#x27;sse&#x27;)	# 也可以选择sse通信方式，这种方式会默认启动一个Web Server</span><br></pre></td></tr></table></figure>

<h1 id="什么是MCP？"><a href="#什么是MCP？" class="headerlink" title="什么是MCP？"></a>什么是MCP？</h1><p>现在的LLM模型具有强大的推理和泛化能力，但<strong>LLM本身受限于预训练时使用的是以往的数据集和知识库，无法实时获取最新的知识内容</strong>，或者使用外部工具来获取一些外部数据源，例如查询天气、查询数据库、操作PC文件系统等。</p>
<p>LLM本身或多或少具有一些相关知识或者能给出一些具体的操作步骤，但是它无法代替人类进行操作，只能生成相关内容供人类参考，具体操作还是依靠人来完成。<strong>MCP的主要目的是解决AI模型因数据孤岛限制而无法充分发挥LLM本身潜力的难题，让LLM获得连接外部数据的能力，从而更好地发挥LLM的潜能</strong>，有了MCP，LLM能进一步走向智能体。</p>
<p>MCP（Model Context Protocol,模型上下文协议），是由 Anthropic（推出Claude 模型的主体公司）在 2024 年 11 月推出并开源的一项创新标准。<strong>它是一种开放标准协议，用于将 AI 模型连接到各种外部工具和数据源</strong>，它定义了一套规则，告诉 AI 如何调用工具，包括参数名、参数类型和参数描述等信息，还能响应 AI 的 Toolcall 并返回结果，让 AI 携带结果继续发起对话；</p>
<p><strong>MCP的本质就是MCP Host调用了电脑上的程序（Python、Nodejs等）或一个互联网接口，然后执行了某些操作，再把结果返回回来。其实就是用规定的格式告诉AI，我有哪些API可以调用。和SDK厂商写给程序员的API文档是一样的，只不过是需要调用时由支持MCP的客户端进行调用罢了。</strong></p>
<p><strong>Function Calling其实就是用JSON重新描述了一个python函数+注释</strong></p>
<p><strong>简单来说，MCP就像AI模型的”万能转接头”，让大模型能够以标准化的方式与各种数据源或工具进行交互，类似于TYPE-C能让不同设备能够通过相同的接口连接到PC或者其他设备。</strong></p>
<p>MCP官方文档：<a target="_blank" rel="noopener" href="https://modelcontextprotocol.io/overview">Model Context Protocol</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 官方描述</span><br><span class="line">Connect your AI applications to the world</span><br><span class="line">MCP is an open protocol that standardizes how applications provide context to large language models (LLMs). Think of MCP like a USB-C port for AI applications. Just as USB-C provides a standardized way to connect your devices to various peripherals and accessories, MCP provides a standardized way to connect AI models to different data sources and tools. MCP enables you build agents and complex workflows on top of LLMs and connects your models with the world.</span><br><span class="line"></span><br><span class="line"># Translate</span><br><span class="line">MCP 是一个开放协议，它标准化了应用程序向大型语言模型 (LLM) 提供上下文的方式。MCP 就像 AI 应用程序的 USB-C 端口一样。正如 USB-C 提供了一种标准化的方式将您的设备连接到各种外围设备和配件一样，MCP 也提供了一种标准化的方式将 AI 模型连接到不同的数据源和工具。MCP 使您能够在 LLM 之上构建agents和复杂的工作流，并将您的模型与世界连接起来。</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/image-20250606005652864.png" alt="MCP"></p>
<h2 id="MCP的核心架构与工作流程"><a href="#MCP的核心架构与工作流程" class="headerlink" title="MCP的核心架构与工作流程"></a>MCP的核心架构与工作流程</h2><blockquote>
<p>核心架构</p>
</blockquote>
<p>MCP遵循客户端-服务器架构（Client-Server，C—S架构），包含以下核心组件：</p>
<ul>
<li><p>MCP主机（MCP Hosts）</p>
<ul>
<li><p>发起API请求的LLM应用程序（如Cursor、各种AI工具等）</p>
</li>
<li><p>负责接收用户输入的提示词输入并与LLM进行交互</p>
</li>
</ul>
</li>
<li><p>MCP客户端（MCP Clients）</p>
<ul>
<li><p>位于主机程序内部，与MCP server保持1:1的连接</p>
</li>
<li><p>充当LLM和MCP server之间的桥梁</p>
</li>
</ul>
</li>
<li><p>MCP服务器（MCP Servers）</p>
<ul>
<li><p>为MCP client提供上下文、工具和信息的函数</p>
</li>
<li><p>负责处理客户端发来的调用请求并根据传来的参数执行相应操作</p>
</li>
</ul>
</li>
<li><p>资源（Resources）</p>
<ul>
<li><p>本地资源：本地计算机中可供MCP server安全访问的资源（如文件、数据库）</p>
</li>
<li><p>远程资源：MCP server可以连接的远程资源（如通过API访问服务）</p>
</li>
</ul>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/image-20250727164741410.png" alt="架构"></p>
<blockquote>
<p>工作流程</p>
</blockquote>
<p>MCP的基本工作流程如下：</p>
<ul>
<li><p>初始化连接</p>
<ul>
<li>客户端向服务器发送连接请求，建立通信通道</li>
</ul>
</li>
<li><p>工具发现与选择</p>
<ul>
<li><p>MCP客户端从MCP服务器获取可用的工具列表</p>
</li>
<li><p>将用户的问题连同工具描述一起发送给LLM</p>
</li>
<li><p>LLM根据用户的问题决定是否需要使用工具以及使用哪些工具</p>
</li>
</ul>
</li>
<li><p>工具调用与执行</p>
<ul>
<li><p>如果需要使用工具，MCP客户端会通过MCP服务器执行相应的工具调用</p>
</li>
<li><p>MCP服务器处理请求，执行相应的操作（如查询数据库、读取文件等）</p>
</li>
</ul>
</li>
<li><p>结果处理与响应</p>
<ul>
<li><p>工具调用的结果会被发送回LLM</p>
</li>
<li><p>LLM基于所有信息生成自然语言响应</p>
</li>
<li><p>最后将响应展示给用户</p>
</li>
</ul>
</li>
<li><p>断开连接</p>
<ul>
<li>任务完成后，客户端可以主动关闭连接或等待服务器超时关闭</li>
</ul>
</li>
</ul>
<p>简而言之：Client 首先与 Server 握手并获取工具清单，Host 把这些清单连同用法注入系统提示词；LLM 根据提示输出结构化调用（通常是 JSON）；Client 解析调用并向 Server 发起调用请求，收到结果后回传 Host，Host 再携带最新上下文进行下一轮模型推理。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/image-20250606010717449.png" alt="MCP工作流程图"></p>
<h2 id="应用场景示例"><a href="#应用场景示例" class="headerlink" title="应用场景示例"></a>应用场景示例</h2><table>
<thead>
<tr>
<th>功能分类</th>
<th>功能项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>本地文件操作</td>
<td>文件读写</td>
<td>允许 AI 模型读取和创建本地文件</td>
</tr>
<tr>
<td></td>
<td>文档分析</td>
<td>分析本地文档并提取信息</td>
</tr>
<tr>
<td></td>
<td>代码管理</td>
<td>读取、分析和修改代码文件</td>
</tr>
<tr>
<td>数据库交互</td>
<td>数据查询</td>
<td>从本地或远程数据库获取信息</td>
</tr>
<tr>
<td></td>
<td>数据分析</td>
<td>分析数据库中的数据并生成报告</td>
</tr>
<tr>
<td></td>
<td>数据管理</td>
<td>更新、插入或删除数据库记录</td>
</tr>
<tr>
<td>API集成</td>
<td>网络服务调用</td>
<td>调用各种网络 API 获取信息</td>
</tr>
<tr>
<td></td>
<td>第三方服务集成</td>
<td>与第三方服务（如天气、股票、新闻等）集成</td>
</tr>
<tr>
<td></td>
<td>企业系统对接</td>
<td>与企业内部系统（如 CRM、ERP 等）对接</td>
</tr>
<tr>
<td>开发工具增强</td>
<td>IDE集成</td>
<td>增强代码编辑器和 IDE 的功能</td>
</tr>
<tr>
<td></td>
<td>调试辅助</td>
<td>帮助开发者调试代码</td>
</tr>
<tr>
<td>个人助理功能</td>
<td>日程管理</td>
<td>访问和管理日历</td>
</tr>
<tr>
<td></td>
<td>邮件处理</td>
<td>读取和撰写邮件</td>
</tr>
<tr>
<td></td>
<td>信息整理</td>
<td>整理和归类个人信息</td>
</tr>
</tbody></table>
<h1 id="MCP-Client与MCP-Server的三种通信机制对比"><a href="#MCP-Client与MCP-Server的三种通信机制对比" class="headerlink" title="MCP Client与MCP Server的三种通信机制对比"></a>MCP Client与MCP Server的三种通信机制对比</h1><h2 id="STDIO"><a href="#STDIO" class="headerlink" title="STDIO"></a>STDIO</h2><p><code>STDIO</code>（标准输入输出）是一种基于进程间通信的<strong>本地传输模式</strong>，其核心思想是利用操作系统提供的管道机制实现父子进程间的数据交换。<strong>在这种模式下，客户端(MCP-Client)通过启动MCP Server可执行文件作为子进程</strong>，随后通过<code>Stdio</code>写入<code>JSON-RPC</code>格式的请求，双方通过<strong>stdin&#x2F;stdout</strong>交换JSON-RPC消息。</p>
<p><strong>这种方式适用于二者（MCP-Client和MCP-Server）都在同一台计算机上的场景</strong>，设计极其简单直接，完全依赖操作系统内核提供的进程管理能力。无需配置网络环境，数据仅在本地流转，避免远程泄露风险，直接通过内存或管道传输，性能高效；但无法同时处理多客户端请求，扩展性差，无法支持分布式或远程资源访问。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/image-20250727163108081.png" alt="STDIO传输方式"></p>
<h2 id="SSE-已停止，官网更新为Streamable-HTTP"><a href="#SSE-已停止，官网更新为Streamable-HTTP" class="headerlink" title="SSE(已停止，官网更新为Streamable HTTP)"></a>SSE(已停止，官网更新为Streamable HTTP)</h2><p><strong>SSE（Server-Sent Events，服务器发送事件） 是一种基于 HTTP 协议的单向通信机制，由服务器主动向浏览器单向推送数据;</strong> SSE是解决“HTTP请求只能由客户端主动向服务器发消息，不能由服务器主动向客户端发消息”问题的一种方案；</p>
<p>SSE传输模式下，客户端首先通过<code>HTTP POS</code>T提交请求体，服务器则立即返回<code>Content-Type：text/event-stream</code>响应头，随后通过SSE格式持续推送流式数据，直到任务完成。</p>
<p>从架构层面看，<code>SSE</code>构建在标准的<code>HTTP</code>协议之上，利用其长连接特性实现服务器到客户端的单向实时数据流，这种设计使其天然适合分布式系统和网络化部署场景。从协议扩展性角度看，<code>SSE</code>展现了更强大的适应性。<code>MCP</code>允许在<code>SSE</code>基础上构建各种扩展功能；<code>SSE</code> 对网络波动的适应性不太强。一旦网络不太稳定，数据传输就容易卡顿甚至中断。</p>
<table>
<thead>
<tr>
<th>场景</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>实时日志</td>
<td>服务器实时推送系统日志给前端</td>
</tr>
<tr>
<td>LLM 流式输出</td>
<td>LLM 每生成一个 token 就通过 SSE 推送一次</td>
</tr>
<tr>
<td>实时通知</td>
<td>聊天提示、任务完成提醒等</td>
</tr>
<tr>
<td>股票&#x2F;天气更新</td>
<td>服务器定时推送更新数据</td>
</tr>
</tbody></table>
<h2 id="Streamable-HTTP"><a href="#Streamable-HTTP" class="headerlink" title="Streamable HTTP"></a>Streamable HTTP</h2><p>在2025年3月26日，MCP官方<code>Github</code>就出现<code>Streamable HTTP</code>的提议用来代替现在 <strong>HTTP SSE</strong>的通信方式。该提议详细说明了<strong>Streamable HTTP MCP</strong> 服务器与客户端之间的通信流程，以及外部工具调用信息同步格式与流程；</p>
<p>在<strong>Streamable HTTP</strong>传输中，服务器作为独立进程运行，可以处理多个客户端连接。传输使用 HTTP POST 和 GET 请求。服务器可以选择使用服务器发送事件(SSE) 来传输多条服务器消息。这不仅允许基本的 MCP 服务器，还允许功能更丰富的服务器支持流式传输以及服务器到客户端的通知和请求。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/image-20250606015213240.png" alt="流程图"></p>
<blockquote>
<p>什么是Streamable HTTP？</p>
</blockquote>
<p>“<strong>Streamable HTTP</strong>” 是一种基于标准 HTTP 协议的 <strong>流式传输机制</strong>，允许服务器在保持连接不断开的前提下，<strong>持续&#x2F;分批地发送数据</strong>给客户端。这种模式适用于需要<strong>实时数据推送或大数据逐步传输</strong>的场景。</p>
<p><code>Streamable HTTP</code> 是为了解决传统 HTTP+SSE（Server-Sent Events）传输方式的局限性而提出的。<code>SSE</code> 需要长连接，且仅支持单向通信（服务器到客户端），导致其在某些场景下不够灵活。<code>Streamable HTTP</code> 则通过改进传输机制，支持更灵活的双向通信和无状态服务器运行。</p>
<blockquote>
<p><code>Streamable HTTP</code> 的核心特性</p>
</blockquote>
<ul>
<li>支持流式传输：<code>Streamable HTTP</code> 允许数据以流的形式分块传输，而不是一次性传输完整数据。这种方式可以减少客户端和服务器的内存占用，并提高实时性。</li>
<li>无状态服务器：服务器可以选择完全无状态运行，不再需要维持长期连接。这使得服务器资源利用率更高，更适合高并发场景。</li>
<li>兼容性与易用性：<code>Streamable HTTP</code> 基于标准的 <code>HTTP</code> 协议，兼容现有的 HTTP 基础设施，包括 <code>CDN</code>、<code>API</code> 网关和负载均衡等。</li>
</ul>
<blockquote>
<p>应用场景</p>
</blockquote>
<p><code>Streamable HTTP</code> 适用于需要高效双向通信和实时数据传输的场景</p>
<ul>
<li>实时聊天应用</li>
<li>大文件下载</li>
<li>流媒体服务</li>
<li>模型上下文协议（MCP）中的数据传输</li>
</ul>
<h2 id="三种方式对比"><a href="#三种方式对比" class="headerlink" title="三种方式对比"></a>三种方式对比</h2><table>
<thead>
<tr>
<th>特性</th>
<th>Stdio</th>
<th>SSE</th>
<th>Streamable HTTP</th>
</tr>
</thead>
<tbody><tr>
<td>通信方式</td>
<td>本地进程管道</td>
<td>HTTP 长连接 + SSE</td>
<td>标准 HTTP + 动态流式升级</td>
</tr>
<tr>
<td>适用场景</td>
<td>本地隐私数据处理</td>
<td>实时远程通知</td>
<td>云原生、分布式系统</td>
</tr>
<tr>
<td>网络依赖</td>
<td>无</td>
<td>必需</td>
<td>必需</td>
</tr>
<tr>
<td>多客户端支持</td>
<td>否</td>
<td>是</td>
<td>是</td>
</tr>
<tr>
<td>协议演进</td>
<td>长期支持</td>
<td>已废弃</td>
<td>官方推荐替代方案</td>
</tr>
</tbody></table>
<h1 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h1><p>MCP协议并没有规定MCP Host如何与大模型之间进行通信，只是规定了MCP Client与MCP Server之间的通信方式，至于和AI大模型之间的通信方式，常见的有两种方式：</p>
<ul>
<li>可以直接用最原始的方式将工具说明书直接写到提示词里（简单粗暴），这种方法的好处是理论上来说任何指令遵循能力好大模型都可以使用MCP技术，但是可能会导致token爆炸，尤其是工具库包含很多工具时，可能会一次性传好几万token给大模型，如果LLM的API是按token计费方式则成本高昂；</li>
<li>也可以用<code>Function Calling</code>的方式传递将工具列表传递给AI大模型，但是对大模型有要求，必须支持Function Calling技术的大模型才行，本质上应该是模型底层实现了一种基于<code>Function Calling</code>的提示词技术，但是使用<code>Function Calling</code>是不计算在用户输入的token中的，应该还是离不开提示词技术。</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>MCP知识以及三种通信机制对比</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://liuhengfeng.xyz/posts/1017615d.html">https://liuhengfeng.xyz/posts/1017615d.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>LHF</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2025-06-06</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2025-07-27</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a></div><div class="post_share"><div class="social-share" data-image="https://statics.liuhengfeng.xyz/Hexo/PixPin_2025-06-06_00-40-46.jpg" data-sites="twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/e392761a.html" title="提示词工程/调优"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/PixPin_2025-06-07_15-11-45.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">提示词工程/调优</div></div></a></div><div class="next-post pull-right"><a href="/posts/1a411b1e.html" title="AutoDL服务器常用命令记录"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/PixPin_2025-05-18_14-41-41.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">AutoDL服务器常用命令记录</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/796b2fbf.html" title="2025的Agent共识"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/PixPin_2025-07-11_22-03-45.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-11</div><div class="title">2025的Agent共识</div></div></a></div><div><a href="/posts/2ca90abc.html" title="AI基础知识"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/bc18e18a-2e2d-4378-9c15-f1c678fc5ed1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-19</div><div class="title">AI基础知识</div></div></a></div><div><a href="/posts/1a411b1e.html" title="AutoDL服务器常用命令记录"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/PixPin_2025-05-18_14-41-41.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-18</div><div class="title">AutoDL服务器常用命令记录</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86"><span class="toc-number">1.</span> <span class="toc-text">扩展知识</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFMCP%EF%BC%9F"><span class="toc-number">2.</span> <span class="toc-text">什么是MCP？</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#MCP%E7%9A%84%E6%A0%B8%E5%BF%83%E6%9E%B6%E6%9E%84%E4%B8%8E%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-number">2.1.</span> <span class="toc-text">MCP的核心架构与工作流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%E7%A4%BA%E4%BE%8B"><span class="toc-number">2.2.</span> <span class="toc-text">应用场景示例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MCP-Client%E4%B8%8EMCP-Server%E7%9A%84%E4%B8%89%E7%A7%8D%E9%80%9A%E4%BF%A1%E6%9C%BA%E5%88%B6%E5%AF%B9%E6%AF%94"><span class="toc-number">3.</span> <span class="toc-text">MCP Client与MCP Server的三种通信机制对比</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#STDIO"><span class="toc-number">3.1.</span> <span class="toc-text">STDIO</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SSE-%E5%B7%B2%E5%81%9C%E6%AD%A2%EF%BC%8C%E5%AE%98%E7%BD%91%E6%9B%B4%E6%96%B0%E4%B8%BAStreamable-HTTP"><span class="toc-number">3.2.</span> <span class="toc-text">SSE(已停止，官网更新为Streamable HTTP)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Streamable-HTTP"><span class="toc-number">3.3.</span> <span class="toc-text">Streamable HTTP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F%E5%AF%B9%E6%AF%94"><span class="toc-number">3.4.</span> <span class="toc-text">三种方式对比</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A1%A5%E5%85%85"><span class="toc-number">4.</span> <span class="toc-text">补充</span></a></li></ol></div></div></div></div></main><footer id="footer"><div class="footer-wrap" id="footer-wrap"> <div class="copyright">&copy;2024 - 2025 By LHF</div><div class="footer_custom_text"><div id="runtime"></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><canvas id="universe"></canvas><script src="https://statics.liuhengfeng.xyz/js/jquery-3.6.1.min.js"></script><script async src="https://unpkg.com/vue@2.6.14/dist/vue.min.js"></script><script async src="https://unpkg.com/element-ui@2.15.6/lib/index.js"></script><script async src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/js/lunar.min.js"></script><script src="/js/calendar.min.js"></script><script async src="https://statics.liuhengfeng.xyz/js/common.min.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false#  open shake (抖動特效);
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('card-widget card-announcement')[2];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var qweather_key = 'f89c5a6b949a4345a0d22f0ad5b040ea';
  var gaud_map_key = 'a36227a8c2b6dcd6b90a98920a06ac89';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '108.230574,22.793414';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://devapi.qweather.com/v7/weather/now?key=f89c5a6b949a4345a0d22f0ad5b040ea"></script><script data-pjax src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/js/electric_clock.min.js"></script><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="博客主题为Butterfly" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-d021d6?style=flat&amp;logo=buefy&amp;color=purple" alt=""/></a><a class="github-badge" target="_blank" href="https://pages.github.com/" style="margin-inline:5px" data-title="本站项目托管于Github Pages" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github%20Pages-d021d6?style=flat&amp;logo=githubpages&amp;color=brown" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="GitHub万岁" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Thanks-Github-d021d6?style=flat&amp;logo=GitHub&amp;color=indigo" alt=""/></a><a class="github-badge" target="_blank" href="https://www.alibabacloud.com/zh/product/content-delivery-network?_p_lc=1" style="margin-inline:5px" data-title="网站资源使用阿里云CDN加速" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/CDN-%E9%98%BF%E9%87%8C%E4%BA%91CDN-d021d6?style=flat&amp;logo=speedtest&amp;color=blue" alt=""/></a><a class="github-badge" target="_blank" href="https://www.aliyun.com/benefit" style="margin-inline:5px" data-title="本站图床部署于阿里云OSS" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/OSS-%E9%98%BF%E9%87%8C%E4%BA%91OSS-d021d6?style=flat&amp;logo=alibabacloud&amp;color=orange" alt=""/></a><a class="github-badge" target="_blank" href="https://beian.miit.gov.cn" style="margin-inline:5px" data-title="网站备案号" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/ICP-%E6%A1%82ICP%E5%A4%872023012461%E5%8F%B7-d021d6?style=flat&amp;logo=brandfolder&amp;color=yellow" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=creativecommons" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="posts/4433d2d6.html" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/day_news.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-11-06</span><a class="blog-slider__title" href="posts/4433d2d6.html" alt="">每天60秒读懂世界</a><div class="blog-slider__text">每日新闻早报</div><a class="blog-slider__button" href="posts/4433d2d6.html" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="posts/c47516f6.html" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/PixPin_2025-05-10_16-40-48.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-05-10</span><a class="blog-slider__title" href="posts/c47516f6.html" alt="">Note_of_Learning(CS&amp;AI)</a><div class="blog-slider__text">一些笔记杂记，主要是AI方面的</div><a class="blog-slider__button" href="posts/c47516f6.html" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="posts/e4ce9af4.html" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/4de89523-2218-4748-8b18-5b961e39906d.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-01-06</span><a class="blog-slider__title" href="posts/e4ce9af4.html" alt="">2025</a><div class="blog-slider__text">My Life in 2025!</div><a class="blog-slider__button" href="posts/e4ce9af4.html" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="posts/93c9aa62.html" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://statics.liuhengfeng.xyz/Hexo/20241105bg2.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-11-05</span><a class="blog-slider__title" href="posts/93c9aa62.html" alt="">2024</a><div class="blog-slider__text">My Life In 2024!</div><a class="blog-slider__button" href="posts/93c9aa62.html" alt="">详情   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://statics.liuhengfeng.xyz/js/swiper.min.js"></script><script defer data-pjax src="https://statics.liuhengfeng.xyz/js/swiper_init.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__fadeInRight');
    arr[i].setAttribute('data-wow-duration', '500ms');
    arr[i].setAttribute('data-wow-delay', '300ms');
    arr[i].setAttribute('data-wow-offset', '180');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__fadeInLeft');
    arr[i].setAttribute('data-wow-duration', '500ms');
    arr[i].setAttribute('data-wow-delay', '300ms');
    arr[i].setAttribute('data-wow-offset', '180');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('footer-wrap');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__backInUp');
    arr[i].setAttribute('data-wow-duration', '500ms');
    arr[i].setAttribute('data-wow-delay', '300ms');
    arr[i].setAttribute('data-wow-offset', '180');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('show');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__fadeInDown');
    arr[i].setAttribute('data-wow-duration', '500ms');
    arr[i].setAttribute('data-wow-delay', '300ms');
    arr[i].setAttribute('data-wow-offset', '180');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('is-center');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__fadeInLeft');
    arr[i].setAttribute('data-wow-duration', '500ms');
    arr[i].setAttribute('data-wow-delay', '300ms');
    arr[i].setAttribute('data-wow-offset', '180');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-info-data');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__fadeInLeft');
    arr[i].setAttribute('data-wow-duration', '500ms');
    arr[i].setAttribute('data-wow-delay', '300ms');
    arr[i].setAttribute('data-wow-offset', '180');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-info-social-icons');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__fadeInLeft');
    arr[i].setAttribute('data-wow-duration', '500ms');
    arr[i].setAttribute('data-wow-delay', '300ms');
    arr[i].setAttribute('data-wow-offset', '180');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-info-btn');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__fadeInLeft');
    arr[i].setAttribute('data-wow-duration', '500ms');
    arr[i].setAttribute('data-wow-delay', '300ms');
    arr[i].setAttribute('data-wow-offset', '180');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><!-- hexo injector body_end end --></body></html>
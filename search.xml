<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hello World</title>
      <link href="/2024/09/12/hello-world/"/>
      <url>/2024/09/12/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>轻量级IP扫描工具:WatchYourLan</title>
      <link href="/2024/09/10/%E8%BD%BB%E9%87%8F%E7%BA%A7IP%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7-WatchYourLan/"/>
      <url>/2024/09/10/%E8%BD%BB%E9%87%8F%E7%BA%A7IP%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7-WatchYourLan/</url>
      
        <content type="html"><![CDATA[<h2 id="项目地址"><a href="#项目地址" class="headerlink" title="项目地址"></a>项目地址</h2><p>github：<a href="https://github.com/aceberg/WatchYourLAN">WatchYourLAN</a></p><p>docker：<a href="https://hub.docker.com/r/aceberg/watchyourlan">aceberg&#x2F;watchyourlan</a></p><hr><h2 id="项目介绍"><a href="#项目介绍" class="headerlink" title="项目介绍"></a>项目介绍</h2><p>轻量级网络 IP 扫描器。可用于通知新主机并监控主机在线&#x2F;离线历史记录</p><p>Web GUI 应该位于<a href="http://localhost:8840/">http://localhost:8840</a></p><hr><h2 id="在openwrt上安装项目"><a href="#在openwrt上安装项目" class="headerlink" title="在openwrt上安装项目"></a>在openwrt上安装项目</h2><ol><li>拉取镜像，在输入栏填入<code>aceberg/watchyourlan</code>，然后选择拉取，等待镜像拉取完毕即可</li></ol><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240910222245608.png" alt="image-20240910222245608"></p><ol start="2"><li>装一下<code>node-bootstrap</code> ，有些主题、图标和字体需要从互联网下载，作者创建了一个包含所有必要模块和字体的单独<a href="https://github.com/aceberg/my-dockerfiles/tree/main/node-bootstrap">映像</a>，这个直接在<code>Docker</code> –&gt; <code>容器</code> –&gt; <code>添加</code>，然后复制下面代码到<code>解析CLT</code>提交，等待下载安装完成即可</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run --name node-bootstrap          \</span><br><span class="line">    -p 8850:8850                          \</span><br><span class="line">    aceberg/node-bootstrap</span><br></pre></td></tr></table></figure><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240910222808676.png" alt="image-20240910222808676"></p><ol start="3"><li>添加WatchYourLan容器，第一步已经拉取完镜像了，直接复制命令解析CLT，添加容器即可（没有设置端口，需要自己手动输入<a href="http://192.168.1.1:8840/%E8%BF%9B%E5%85%A5%E7%BD%91%E7%AB%99%EF%BC%89%EF%BC%8C%E4%B8%8D%E8%83%BD%E7%9B%B4%E6%8E%A5%E7%82%B9%E5%87%BB%E5%AE%B9%E5%99%A8%E8%BF%9B%E5%8E%BB">http://192.168.1.1:8840/进入网站），不能直接点击容器进去</a></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run --name WatchYourLAN \</span><br><span class="line">  -e &quot;IFACES=br-lan&quot; \</span><br><span class="line">  -e &quot;TZ=Asia/Shanghai&quot; \</span><br><span class="line">  --network=&quot;host&quot; \</span><br><span class="line">  -v /opt/docker/volumes/wyl:/data/WatchYourLAN \</span><br><span class="line">  -p 8840:8840 \</span><br><span class="line">  aceberg/watchyourlan:v2</span><br></pre></td></tr></table></figure><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240910223009252.png" alt="image-20240910223009252"></p><hr><h2 id="config配置解释"><a href="#config配置解释" class="headerlink" title="config配置解释"></a>config配置解释</h2><h3 id="Basic-config"><a href="#Basic-config" class="headerlink" title="Basic config"></a>Basic config</h3><table><thead><tr><th>Variable</th><th>描述</th><th>Default</th></tr></thead><tbody><tr><td>TZ</td><td>时区</td><td></td></tr><tr><td>HOST</td><td>监听地址</td><td>0.0.0.0</td></tr><tr><td>PORT</td><td>Web GUI 端口</td><td>8840</td></tr><tr><td>THEME</td><td><a href="https://bootswatch.com/">https://bootswatch.com</a>的主题</td><td></td></tr><tr><td>COLOR</td><td>背景颜色：浅色或深色</td><td>dark</td></tr><tr><td>NODEPATH</td><td>本地节点模块的路径</td><td></td></tr><tr><td>SHOUTRRR_URL</td><td>没啥用</td><td></td></tr></tbody></table><h3 id="Scan-settings"><a href="#Scan-settings" class="headerlink" title="Scan settings"></a>Scan settings</h3><table><thead><tr><th>Variable</th><th>描述</th><th>Default</th></tr></thead><tbody><tr><td>IFACES</td><td>需要扫描的接口，可以是一个或多个，以空格分隔，例如<code>IFACES: &quot;enp4s0 wlxf4ec3892dd51&quot;</code></td><td></td></tr><tr><td>TIMEOUT</td><td>扫描间隔时间（秒）</td><td>120</td></tr><tr><td>ARP_ARGS</td><td>Web GUI 端口</td><td>8840</td></tr><tr><td>ARP_STRS ARP_STRS_JOINED</td><td><a href="https://bootswatch.com/">https://bootswatch.com</a>的主题</td><td></td></tr><tr><td>LOG_LEVEL</td><td>日志级别</td><td>dark</td></tr><tr><td>TRIM_HIST</td><td>在（小时）后删除历史记录</td><td></td></tr><tr><td>HIST_IN_DB</td><td>将历史记录存储在数据库中 (用不上)</td><td></td></tr><tr><td>USE_DB</td><td>存储的数据库，要么<code>sqlite</code>     要么 <code>postgres</code></td><td></td></tr><tr><td>PG_CONNECT</td><td>连接到 PostgreSQL 的地址</td><td></td></tr></tbody></table><h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>openwrt小主机的<del>eth0</del> br-lan 网卡对应内网(192.168.1.0&#x2F;24),eht1口对应校园网，因为只需要监控openwrt下的用户，所以网卡设为<del>eth0</del> br-lan</p><p>扫描eth1网口（校园网网段10.110.x.x）能发现不少在线设备使用校园网，不过只能看下IP地址和MAC地址，也没什么用</p><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240910221829701.png" alt="image-20240910221829701"></p><hr><h2 id="docker-run命令解析"><a href="#docker-run命令解析" class="headerlink" title="docker run命令解析"></a>docker run命令解析</h2><p>命令执行流程</p><ol><li>创建一个名为 <code>wyl</code> 的 WatchYourLAN 容器。</li><li>设置容器的网络接口为 <del>eth0</del> br-lan，时区为上海。</li><li>使容器共享主机的网络，并且不用指定端口映射。</li><li>将主机的指定目录挂载到容器内，保存容器的数据。</li><li>使用 <code>aceberg/watchyourlan:v2</code> 镜像启动该容器</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 本机配置</span><br><span class="line">docker run --name WatchYourLAN \</span><br><span class="line">  -e &quot;IFACES=br-lan&quot; \</span><br><span class="line">  -e &quot;TZ=Asia/Shanghai&quot; \</span><br><span class="line">  --network=&quot;host&quot; \</span><br><span class="line">  -v /opt/docker/volumes/wyl:/data/WatchYourLAN \</span><br><span class="line">  -p 8840:8840 \</span><br><span class="line">  aceberg/watchyourlan:v2</span><br><span class="line">  </span><br><span class="line"># 官网推荐配置，替换$YOURTIMEZONE为正确的时区和$YOURIFACE要扫描的网络接口，网络模式必须是host，设置$DOCKERDATAPATH容器以保存数据：</span><br><span class="line">docker run --name wyl \</span><br><span class="line">-e &quot;IFACES=$YOURIFACE&quot; \</span><br><span class="line">-e &quot;TZ=$YOURTIMEZONE&quot; \</span><br><span class="line">--network=&quot;host&quot; \</span><br><span class="line">-v $DOCKERDATAPATH/wyl:/data/WatchYourLAN \</span><br><span class="line">    aceberg/watchyourlan:v2</span><br></pre></td></tr></table></figure><p><strong>特别说明:</strong></p><p> <code>-v /opt/docker/volumes/wyl:/data/WatchYourLAN \</code></p><p>将本地 <code>/opt/docker/volumes/wyl</code> 目录挂载到容器内的 <code>/data/WatchYourLAN</code> 目录，在创建别的容器时，一定要注意一下<code>-v</code>的配置，在openwrt小主机下容器的挂载目录都在<code>/opt/docker/volumes/</code>，加上容器名即可</p><h2 id="纠错"><a href="#纠错" class="headerlink" title="纠错"></a>纠错</h2><ol><li>openwrt小主机的内网网口并不是eth0,而是<code>br-lan</code>，不要被Web GUI的 <code>接口</code>误导了</li></ol><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240911142844150.png" alt="image-20240911142844150"></p><ol start="2"><li>之前在 <a href="http://192.168.1.1:8840/config/">http://192.168.1.1:8840/config/</a> 配置接口时填eth0，老是扫不出内网（192.168.1.0&#x2F;24）的设备，其实接口不应该填eth0，应该是br-lan</li></ol><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240911143034460.png" alt="image-20240911143034460"></p><ol start="3"><li>通过ssh连接小主机，使用<code>ifconfig</code>查看网卡信息可知，eth0虽然和br-lan的MAC地址相同，是同一个网口，但是只有br-lan获取了内网地址192.168.1.0&#x2F;24，eth0上并没有分配IP地址，eth0是干嘛的我也不知道，可能有一个属于虚拟网口吧</li></ol><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240911143305547.png" alt="image-20240911143305547"></p><h4 id="docker0网口"><a href="#docker0网口" class="headerlink" title="docker0网口"></a>docker0网口</h4><p>这个是一个虚拟网口，是docker容器用来和实体小主机之间进行通信的，属于172.17.0.0&#x2F;16网段，一般没事不要动这个接口，除非要把容器IP地址改到192.168.1.0&#x2F;24网段，以前尝试过，但是失败了，不知道怎么弄</p><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>网上说可以设置账号密码进行认证，防止每个人都能登录WatchYourLAN查看网络信息，但是我没找到在哪里配置登录认证</p><p>也找不到在哪里设置网络设备上线通知</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> 实用软件/工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Blog访客信息欢迎页面设置</title>
      <link href="/2024/09/10/Blog%E8%AE%BF%E5%AE%A2%E4%BF%A1%E6%81%AF%E6%AC%A2%E8%BF%8E%E9%A1%B5%E9%9D%A2%E8%AE%BE%E7%BD%AE/"/>
      <url>/2024/09/10/Blog%E8%AE%BF%E5%AE%A2%E4%BF%A1%E6%81%AF%E6%AC%A2%E8%BF%8E%E9%A1%B5%E9%9D%A2%E8%AE%BE%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p>将欢迎标语页面挂载在公告栏下，显示效果如下</p><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240910161343921.png" alt="image-20240910161343921"></p><hr><h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>尝试跟着 <a href="https://www.fomal.cc/posts/d739261b.html">欢迎信息显示地理位置</a> 和 <a href="https://www.naokuoteng.cn/posts/fc3458a8.html">添加访客信息欢迎卡片</a> 的教程进行修改，按照两种方式的步骤来进行都不太行，后面去扒了<code>脑阔疼ه٥</code>的<a href="https://github.com/yejing06/yejing06.github.io">GitHub Pages仓库</a>，找到他放在js下的脚本文件，直接复制到我的js文件，把key改成我的，然后就可以用了,不知道跟这行代码有没有关系，最开始的时候我运行时把最后面关于<code>pjax</code>的那行代码注释掉了，因为我没开pjax,但是现在正常运行的文件我是开着pjax的</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span> = showWelcome;</span><br><span class="line"><span class="comment">// 如果使用了pjax在加上下面这行代码</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;pjax:complete&#x27;</span>, showWelcome);</span><br></pre></td></tr></table></figure><hr><h2 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h2><ol><li>去 <a href="https://lbs.qq.com/">腾讯位置服务</a> 注册账号获取API，<code>应用名称</code>随便，<code>应用类型</code>我选”其他”,然后<code>创建应用</code>，网上说如果API异常的时候可以试下添加域名白名单localhost或者实际域名</li></ol><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240910162518071.png" alt="图片"></p><ol start="2"><li>对API进行<code>配额分配</code>，进入<code>配额管理</code> –&gt; <code>账户额度</code> –&gt; <code>配额分配</code>，直接拉满就行，最主要用到的接口是<code>IP定位</code>，其他随意</li></ol><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240910163246452.png" alt="image-20240910163246452"></p><ol start="3"><li>在<code>G:\Blog\_config.butterfly.yml</code>中打开公告栏，找到<code>card_announcement</code>，启动公告栏</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">card_announcement:</span><br><span class="line">  enable: true</span><br><span class="line">  content: </span><br></pre></td></tr></table></figure><ol start="4"><li>新建js文件<code>G:\Blog\source\js\txmap.js</code>，输入如下代码，其中<code>key</code>和<code>个人位置经纬度</code>需要修改，其他可以不改也可以自定义修改</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getDistance</span>(<span class="params">a, e, s, c</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; <span class="attr">sin</span>: t, <span class="attr">cos</span>: r, <span class="attr">asin</span>: n, <span class="attr">PI</span>: o, <span class="attr">hypot</span>: i &#125; = <span class="title class_">Math</span>;</span><br><span class="line">  <span class="keyword">let</span> <span class="title function_">b</span> = (<span class="params">a, e</span>) =&gt; (</span><br><span class="line">      (a *= o / <span class="number">180</span>), &#123; <span class="attr">x</span>: <span class="title function_">r</span>((e *= o / <span class="number">180</span>)) * <span class="title function_">r</span>(a), <span class="attr">y</span>: <span class="title function_">r</span>(e) * <span class="title function_">t</span>(a), <span class="attr">z</span>: <span class="title function_">t</span>(e) &#125;</span><br><span class="line">    ),</span><br><span class="line">    p = <span class="title function_">b</span>(a, e),</span><br><span class="line">    k = <span class="title function_">b</span>(s, c),</span><br><span class="line">    u = <span class="number">2</span> * <span class="title function_">n</span>(<span class="title function_">i</span>(p.<span class="property">x</span> - k.<span class="property">x</span>, p.<span class="property">y</span> - k.<span class="property">y</span>, p.<span class="property">z</span> - k.<span class="property">z</span>) / <span class="number">2</span>) * <span class="number">6371</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">round</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showWelcome</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> a,</span><br><span class="line">    e,</span><br><span class="line">    s,</span><br><span class="line">    c = <span class="title function_">getDistance</span>(</span><br><span class="line">      <span class="number">108.367000</span>, <span class="comment">// 设置自己所在地的经度</span></span><br><span class="line">      <span class="number">22.816300</span>, <span class="comment">// 设置自己所在地的纬度</span></span><br><span class="line">      ipLoacation.<span class="property">result</span>.<span class="property">location</span>.<span class="property">lng</span>,</span><br><span class="line">      ipLoacation.<span class="property">result</span>.<span class="property">location</span>.<span class="property">lat</span></span><br><span class="line">    ),</span><br><span class="line">    t = ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">nation</span>;</span><br><span class="line">  <span class="keyword">switch</span> (ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">nation</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;日本&quot;</span>:</span><br><span class="line">      e = <span class="string">&quot;よろしく，一起去看樱花吗&quot;</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;美国&quot;</span>:</span><br><span class="line">      e = <span class="string">&quot;Let us live in peace!&quot;</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;英国&quot;</span>:</span><br><span class="line">      e = <span class="string">&quot;想同你一起夜乘伦敦眼&quot;</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;俄罗斯&quot;</span>:</span><br><span class="line">      e = <span class="string">&quot;干了这瓶伏特加！&quot;</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;法国&quot;</span>:</span><br><span class="line">      e = <span class="string">&quot;C&#x27;est La Vie&quot;</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;德国&quot;</span>:</span><br><span class="line">      e = <span class="string">&quot;Die Zeit verging im Fluge.&quot;</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;澳大利亚&quot;</span>:</span><br><span class="line">      e = <span class="string">&quot;一起去大堡礁吧！&quot;</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;加拿大&quot;</span>:</span><br><span class="line">      e = <span class="string">&quot;拾起一片枫叶赠予你&quot;</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;中国&quot;</span>:</span><br><span class="line">      <span class="keyword">switch</span> (</span><br><span class="line">        ((t =</span><br><span class="line">          ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">province</span> +</span><br><span class="line">          <span class="string">&quot; &quot;</span> +</span><br><span class="line">          ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">city</span> +</span><br><span class="line">          <span class="string">&quot; &quot;</span> +</span><br><span class="line">          ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">district</span>),</span><br><span class="line">        (a = ipLoacation.<span class="property">result</span>.<span class="property">ip</span>),</span><br><span class="line">        ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">province</span>)</span><br><span class="line">      ) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;北京市&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;京爷，带我走吧😭&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;天津市&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;讲段相声吧。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;河北省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;山势巍巍成壁垒，天下雄关。铁马金戈由此向，无限江山。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;山西省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;展开坐具长三尺，已占山河五百余。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;内蒙古自治区&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;天苍苍，野茫茫，风吹草低见牛羊。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;辽宁省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;山海有情 天辽地宁。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;吉林省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;北国江城，雾凇之都。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;黑龙江省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;很喜欢哈尔滨大剧院。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;上海市&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;十里洋场烟花地,风云际会上海滩。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;江苏省&quot;</span>:        </span><br><span class="line">          e = <span class="string">&quot;上有天堂，下有苏杭。&quot;</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;浙江省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;东风渐绿西湖柳，雁已还人未南归。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;河南省&quot;</span>:</span><br><span class="line">            e = <span class="string">&quot;五千年文化中原，八百里锦绣河南。&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;        </span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;安徽省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;蚌埠住了，芜湖起飞。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;福建省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;井邑白云间，岩城远带山。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;江西省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;落霞与孤鹜齐飞，秋水共长天一色。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;山东省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;遥望齐州九点烟，一泓海水杯中泻。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;湖北省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;九省通衢会,中南繁华京。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;湖南省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;三湘四水，物华天宝，山水之间，生机勃勃。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;广东省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;山河粤秀，大美广东。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;广西壮族自治区&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;八桂大地,源远流长。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;海南省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;朝观日出逐白浪，夕看云起收霞光。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;四川省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;不至巴蜀，不识中国&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;贵州省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;青山绿水、人杰地灵、闻名遐迩、美不胜收。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;云南省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;玉龙飞舞云缠绕，万仞冰川直耸天。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;西藏自治区&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;躺在茫茫草原上，仰望蓝天。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;陕西省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;三秦大地,物华天宝,人杰地灵。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;甘肃省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;羌笛何须怨杨柳，春风不度玉门关。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;青海省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;天上瑶池境，人间青海湖。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;宁夏回族自治区&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;大漠孤烟直，长河落日圆。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;新疆维吾尔自治区&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;驼铃古道丝绸路，胡马犹闻唐汉风。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;台湾省&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;我在这头，大陆在那头。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;香港特别行政区&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;东方明珠,璀璨夺目。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;澳门特别行政区&quot;</span>:</span><br><span class="line">          e = <span class="string">&quot;性感荷官，在线发牌。&quot;</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">          e = <span class="string">&quot;带我去你的城市逛逛吧！&quot;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      e = <span class="string">&quot;带我去你的国家逛逛吧。&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> r = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">  (s =</span><br><span class="line">    r.<span class="title function_">getHours</span>() &gt;= <span class="number">6</span> &amp;&amp; r.<span class="title function_">getHours</span>() &lt; <span class="number">11</span></span><br><span class="line">      ? <span class="string">&quot;&lt;span&gt;上午好，&lt;/span&gt;一日之计在于晨!&quot;</span></span><br><span class="line">      : r.<span class="title function_">getHours</span>() &gt;= <span class="number">11</span> &amp;&amp; r.<span class="title function_">getHours</span>() &lt; <span class="number">13</span></span><br><span class="line">      ? <span class="string">&quot;&lt;span&gt;中午好，&lt;/span&gt;到饭点了，该吃饭了！&quot;</span></span><br><span class="line">      : r.<span class="title function_">getHours</span>() &gt;= <span class="number">13</span> &amp;&amp; r.<span class="title function_">getHours</span>() &lt; <span class="number">17</span></span><br><span class="line">      ? <span class="string">&quot;&lt;span&gt;下午好！&lt;/span&gt;&quot;</span></span><br><span class="line">      : r.<span class="title function_">getHours</span>() &gt;= <span class="number">17</span> &amp;&amp; r.<span class="title function_">getHours</span>() &lt; <span class="number">19</span></span><br><span class="line">      ? <span class="string">&quot;&lt;span&gt;夕阳无限好！&lt;/span&gt;&quot;</span></span><br><span class="line">      : r.<span class="title function_">getHours</span>() &gt;= <span class="number">19</span> &amp;&amp; r.<span class="title function_">getHours</span>() &lt; <span class="number">24</span></span><br><span class="line">      ? <span class="string">&quot;&lt;span&gt;晚上好！&lt;/span&gt;&quot;</span></span><br><span class="line">      : <span class="string">&quot;夜深了，早点休息，晚安！&quot;</span>),</span><br><span class="line">    (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(</span><br><span class="line">      <span class="string">&quot;welcome-info&quot;</span></span><br><span class="line">    ).<span class="property">innerHTML</span> = <span class="string">`&lt;b&gt;&lt;center&gt;🎉 欢迎 🎉&lt;/center&gt;&amp;emsp;&amp;emsp; 欢迎来自&amp;nbsp;&lt;span style=&quot;color: #f9a681;&quot;&gt;<span class="subst">$&#123;t&#125;</span>&lt;/span&gt;&amp;nbsp;的小伙伴。<span class="subst">$&#123;s&#125;</span>&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; \n我们之间相距&lt;span style=&quot;color: #f9a681;&quot;&gt;&amp;nbsp;<span class="subst">$&#123;c&#125;</span>&amp;nbsp;&lt;/span&gt;公里，您的IP地址为：&lt;span style=&quot;color: #f9a681;&quot;&gt;<span class="subst">$&#123;a&#125;</span>&amp;nbsp;&lt;/span&gt;&lt;br&gt;&amp;emsp;&amp;emsp;<span class="subst">$&#123;e&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="string">&quot;get&quot;</span>,</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&quot;https://apis.map.qq.com/ws/location/v1/ip&quot;</span>,</span><br><span class="line">  <span class="attr">data</span>: &#123; <span class="attr">key</span>: <span class="string">&quot;xxxxx-xxxxx-xxxxx-Q3IRQ-XZFxO-34xNZ&quot;</span>, <span class="attr">output</span>: <span class="string">&quot;jsonp&quot;</span> &#125;,  <span class="comment">// 这里放置自己的key</span></span><br><span class="line">  <span class="attr">dataType</span>: <span class="string">&quot;jsonp&quot;</span>,</span><br><span class="line">  <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">a</span>) &#123;</span><br><span class="line">    ipLoacation = a;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;),</span><br><span class="line">  (<span class="variable language_">window</span>.<span class="property">onload</span> = showWelcome);</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;pjax:complete&quot;</span>, showWelcome);</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="5"><li>打开<code>G:\Blog\source\css\custom.css</code>，添加如下css代码，可自定义修改颜色</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 欢迎信息 */</span></span><br><span class="line"><span class="selector-id">#welcome-info</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="number">#c0f2e3</span>, <span class="number">#dbe1e9</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#welcome-info</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#212121</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="6"><li>在<code>G:\Blog\_config.butterfly.yml</code>的<code>inject</code>项<code>head</code>子项和<code>bottom</code>子项如下内容</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom.css&quot;</span> <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="comment">#访客信息</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/jquery-3.6.1.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/txmap.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="7"><li>下载<code>jquery-3.6.1.min.js</code>文件并存放到<code>G:\Blog\source\js\jquery-3.6.1.min.js</code>中，版本要对应，也可以从我的oss下载</li></ol><p><a href="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/jquery-3.6.1.min.js">jquery-3.6.1.min.js</a></p><ol start="8"><li>进入<code>G:\Blog\themes\butterfly\layout\includes\widget\card_announcement.pug</code>，添加欢迎信息的内容</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.announcement_content!= theme.aside.card_announcement.content</span><br><span class="line">//- 访客欢迎信息</span><br><span class="line">#welcome-info</span><br></pre></td></tr></table></figure><hr><h2 id="API可用次数"><a href="#API可用次数" class="headerlink" title="API可用次数"></a>API可用次数</h2><p><code>10000次/天，每秒并发量为5</code></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>这项功能坑挺多的，跟着教程折磨了好久都没成功，以后万一腾讯位置服务修改了API的查询参数或者更新内容，欢迎信息也要跟着修改，还是挺麻烦的</p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
          <category> hexo笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 美化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>文章加密</title>
      <link href="/2024/09/09/%E6%96%87%E7%AB%A0%E5%8A%A0%E5%AF%86/"/>
      <url>/2024/09/09/%E6%96%87%E7%AB%A0%E5%8A%A0%E5%AF%86/</url>
      
        <content type="html"><![CDATA[<h2 id="插件下载"><a href="#插件下载" class="headerlink" title="插件下载"></a>插件下载</h2><ol><li>在<code>G:\Blog</code>下打开<code>Git Base Here</code>,输入如下命令</li></ol><p><code>npm install --save hexo-blog-encrypt</code></p><ol start="2"><li><p>配置发布文章的<code>Front matter</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">tags:</span><br><span class="line">- 作为日记加密</span><br><span class="line">date: 2022-03-30 21:12:21</span><br><span class="line">password: password</span><br><span class="line">abstract: 本文被加密了, 请输入密码查看.</span><br><span class="line">message: 您好, 这里需要密码.</span><br><span class="line">theme: xray</span><br><span class="line">wrong_pass_message: 抱歉, 这个密码看着不太对, 请再试试.</span><br><span class="line">wrong_hash_message: 抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.</span><br><span class="line">---</span><br></pre></td></tr></table></figure></li><li><p>配置文件<code>G:\Blog\_config.yml</code>中针对tags的加密</p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Security</span><br><span class="line">encrypt: # hexo-blog-encrypt</span><br><span class="line">  abstract: 有东西被加密了, 请输入密码查看.</span><br><span class="line">  message: 您好, 这里需要密码.</span><br><span class="line">  tags:</span><br><span class="line">  - &#123;name: tagName, password: 密码A&#125;</span><br><span class="line">  - &#123;name: tagName, password: 密码B&#125;</span><br><span class="line">  theme: xray</span><br><span class="line">  wrong_pass_message: 抱歉, 这个密码看着不太对, 请再试试.</span><br><span class="line">  wrong_hash_message: 抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 作为日记加密 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>encryptTest</title>
      <link href="/2024/09/09/encryptTest/"/>
      <url>/2024/09/09/encryptTest/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="d24bea799ed933216d483ec6964baf55355d92825103a011db4edb442388b059">a0a639f499887bd73af23e0f2059fcebaf34e9a8af4815e04db53ef1dc22b296f4e9a748109cb6ffa6326b0df978a711</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
        <tags>
            
            <tag> Encrypt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网站FPS帧率检测(不完美版)</title>
      <link href="/2024/09/09/%E7%BD%91%E7%AB%99FPS%E5%B8%A7%E7%8E%87%E6%A3%80%E6%B5%8B-%E4%B8%8D%E5%AE%8C%E7%BE%8E%E7%89%88/"/>
      <url>/2024/09/09/%E7%BD%91%E7%AB%99FPS%E5%B8%A7%E7%8E%87%E6%A3%80%E6%B5%8B-%E4%B8%8D%E5%AE%8C%E7%BE%8E%E7%89%88/</url>
      
        <content type="html"><![CDATA[<h2 id="网站添加FPS检测的功能"><a href="#网站添加FPS检测的功能" class="headerlink" title="网站添加FPS检测的功能"></a>网站添加FPS检测的功能</h2><p>显示效果如下</p><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240909144700097.png" alt="image-20240909144700097"></p><p>FPS分级：</p><ul><li>fps &lt;&#x3D; 30  – &gt;  <code>电竞级帧率😓</code></li><li>fps &lt;&#x3D; 60  – &gt;  <code>有点难受😨</code></li><li>fps &lt;&#x3D; 90  – &gt;<code>不太流畅😥</code></li><li>fps &lt;&#x3D; 120  –&gt;  <code>还不错哦😀</code></li><li>fps &gt; 120  –&gt;  <code>十分流畅😆</code></li></ul><h2 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h2><ol><li>新建js文件<code>G:\Blog\source\js\fps.js</code>，写入如下代码（最初版）</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;fpson&quot;</span>) == <span class="literal">undefined</span> || <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;fpson&quot;</span>) == <span class="string">&quot;1&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> rAF = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> ||</span><br><span class="line">            <span class="variable language_">window</span>.<span class="property">webkitRequestAnimationFrame</span> ||</span><br><span class="line">            <span class="keyword">function</span> (<span class="params">callback</span>) &#123;</span><br><span class="line">                <span class="variable language_">window</span>.<span class="built_in">setTimeout</span>(callback, <span class="number">1000</span> / <span class="number">60</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        );</span><br><span class="line">    &#125;();</span><br><span class="line">    <span class="keyword">var</span> frame = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> allFrameCount = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> lastTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">    <span class="keyword">var</span> lastFameTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">    <span class="keyword">var</span> loop = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> now = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">        <span class="keyword">var</span> fs = (now - lastFameTime);</span><br><span class="line">        <span class="keyword">var</span> fps = <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="number">1000</span> / fs);</span><br><span class="line"></span><br><span class="line">        lastFameTime = now;</span><br><span class="line">        <span class="comment">// 不置 0，在动画的开头及结尾记录此值的差值算出 FPS</span></span><br><span class="line">        allFrameCount++;</span><br><span class="line">        frame++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (now &gt; <span class="number">1000</span> + lastTime) &#123;</span><br><span class="line">            <span class="keyword">var</span> fps = <span class="title class_">Math</span>.<span class="title function_">round</span>((frame * <span class="number">1000</span>) / (now - lastTime));</span><br><span class="line">            <span class="keyword">if</span> (fps &lt;= <span class="number">5</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;卡成ppt😭&lt;/span&gt;`</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fps &lt;= <span class="number">15</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;电竞级帧率😓&lt;/span&gt;`</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fps &lt;= <span class="number">25</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;有点难受😨&lt;/span&gt;`</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fps &lt; <span class="number">35</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;不太流畅😥&lt;/span&gt;`</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fps &lt;= <span class="number">45</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;还不错哦😀&lt;/span&gt;`</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">var</span> kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;十分流畅😆&lt;/span&gt;`</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;fps&quot;</span>).<span class="property">innerHTML</span> = <span class="string">`FPS:<span class="subst">$&#123;fps&#125;</span> <span class="subst">$&#123;kd&#125;</span>`</span>;</span><br><span class="line">            frame = <span class="number">0</span>;</span><br><span class="line">            lastTime = now;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">rAF</span>(loop);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">loop</span>();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;fps&quot;</span>).<span class="property">style</span> = <span class="string">&quot;display:none!important&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>在自定义样式<code>G:\Blog\source\css\custom.css</code>添加如下代码，可以自定义位置，</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 帧率检测 */</span></span><br><span class="line"><span class="selector-id">#fps</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="comment">/* 指定位置 left是左  right是右 位置大小自己调*/</span></span><br><span class="line">  <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1919810</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 黑夜模式和白天模式的背景颜色、透明度设置 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#fps</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.85</span>);</span><br><span class="line">  backdrop-<span class="attribute">filter</span>: <span class="built_in">var</span>(--backdrop-filter);</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="comment">/* 设置图标圆角*/</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#fps</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.72</span>);</span><br><span class="line">  backdrop-<span class="attribute">filter</span>: <span class="built_in">var</span>(--backdrop-filter);</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li><p>在主题配置文件<code>G:\Blog\_config.butterfly.yml</code>添加如下代码</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span> </span><br><span class="line">  <span class="attr">head:</span> </span><br><span class="line"><span class="string">+</span>    <span class="bullet">-</span> <span class="string">&lt;span</span> <span class="string">id=&quot;fps&quot;&gt;&lt;/span&gt;</span> <span class="comment"># 帧率检测</span></span><br><span class="line">  <span class="attr">bottom:</span> </span><br><span class="line"><span class="string">+</span>    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;/js/fps.js&quot;&gt;&lt;/script&gt;</span> <span class="comment"># 帧率检测</span></span><br></pre></td></tr></table></figure></li><li><p>重新部署，最好先<code>hexo clean</code></p></li></ol><h2 id="不完美之处"><a href="#不完美之处" class="headerlink" title="不完美之处"></a>不完美之处</h2><p>如果只有一块屏幕或者使用手机，都可以正确显示停留网站时的FPS，但是如果使用<strong>双屏</strong>且<strong>两块屏幕刷新率不一致</strong>，那么上面的脚本只能显示主屏幕的刷新率（一般是刷新率最高的那一块屏），如果经常切换浏览器的显示屏幕，例如把浏览器从屏幕1切换到屏幕2，那么脚本显示的还是屏幕1的FPS，无法实时显示屏幕2的FPS</p><h3 id="尝试修改js代码-失败"><a href="#尝试修改js代码-失败" class="headerlink" title="尝试修改js代码(失败)"></a>尝试修改js代码(失败)</h3><p>修改过几版，但是每一版都无法实现实时显示FPS</p><h4 id="版本1"><a href="#版本1" class="headerlink" title="版本1"></a>版本1</h4><p><strong>监听屏幕的改变</strong>：在浏览器中通过 <code>window.matchMedia</code> 或 <code>window.onresize</code> 来监听屏幕的切换或调整。</p><p><strong>动态检测刷新率</strong>：通过 <code>requestAnimationFrame</code> 进行帧率检测时，确保每次移动到不同的显示器时重新计算帧率。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;fpson&quot;</span>) == <span class="literal">undefined</span> || <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;fpson&quot;</span>) == <span class="string">&quot;1&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> frame = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> lastTime = performance.<span class="title function_">now</span>();</span><br><span class="line">    <span class="keyword">let</span> fpsDisplay = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;fps&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">calculateFPS</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">let</span> now = performance.<span class="title function_">now</span>();</span><br><span class="line">        frame++;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (now &gt; <span class="number">1000</span> + lastTime) &#123;</span><br><span class="line">            <span class="keyword">let</span> fps = <span class="title class_">Math</span>.<span class="title function_">round</span>((frame * <span class="number">1000</span>) / (now - lastTime));</span><br><span class="line">            <span class="keyword">let</span> kd;</span><br><span class="line">            <span class="keyword">if</span> (fps &lt;= <span class="number">10</span>) &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;卡成ppt😭&lt;/span&gt;`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fps &lt;= <span class="number">30</span>) &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;电竞级帧率😓&lt;/span&gt;`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fps &lt;= <span class="number">60</span>) &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;有点难受😨&lt;/span&gt;`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fps &lt; <span class="number">90</span>) &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;不太流畅😥&lt;/span&gt;`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fps &lt;= <span class="number">144</span>) &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;还不错哦😀&lt;/span&gt;`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;十分流畅😆&lt;/span&gt;`</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            fpsDisplay.<span class="property">innerHTML</span> = <span class="string">`FPS: <span class="subst">$&#123;fps&#125;</span> <span class="subst">$&#123;kd&#125;</span>`</span>;</span><br><span class="line">            frame = <span class="number">0</span>;</span><br><span class="line">            lastTime = now;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">requestAnimationFrame</span>(calculateFPS);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 用于检测显示器变化</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">updateFPSOnScreenChange</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        frame = <span class="number">0</span>; <span class="comment">// 重置帧计数器</span></span><br><span class="line">        lastTime = performance.<span class="title function_">now</span>(); <span class="comment">// 重置时间</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>, updateFPSOnScreenChange);</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;orientationchange&quot;</span>, updateFPSOnScreenChange);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">calculateFPS</span>();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;fps&quot;</span>).<span class="property">style</span> = <span class="string">&quot;display:none!important&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="版本2"><a href="#版本2" class="headerlink" title="版本2"></a>版本2</h4><p>这版有bug，每拖动一次浏览器到另一个屏幕，都会增加显示的FPS，且不会下降，来回切换能干到好几千FPS,原因是代码通过 <code>now - lastTime</code> 来计算过去的时间（毫秒），并且在每秒内统计帧数。拖动窗口时可能导致浏览器的 <code>requestAnimationFrame</code> 变得不稳定，进而导致短暂的时间间隔过小，从而导致帧数异常增高。</p><p><strong>监听窗口的<code>resize</code> 事件</strong>：因为当你拖动窗口时会触发 <code>resize</code> 事件，你可以借此判断当前浏览器是否切换到另一块显示器。</p><p><strong>动态计算刷新率</strong>：通过 <code>requestAnimationFrame</code> 来重新检测帧率，同时对窗口的移动进行判断，并在合适的时机更新帧率显示。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;fpson&quot;</span>) == <span class="literal">undefined</span> || <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;fpson&quot;</span>) == <span class="string">&quot;1&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> frame = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> lastTime = performance.<span class="title function_">now</span>();</span><br><span class="line">    <span class="keyword">let</span> fpsDisplay = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;fps&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> fps = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">calculateFPS</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">let</span> now = performance.<span class="title function_">now</span>();</span><br><span class="line">        frame++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (now &gt; <span class="number">1000</span> + lastTime) &#123;</span><br><span class="line">            fps = <span class="title class_">Math</span>.<span class="title function_">round</span>((frame * <span class="number">1000</span>) / (now - lastTime));</span><br><span class="line">            <span class="keyword">let</span> kd;</span><br><span class="line">            <span class="keyword">if</span> (fps &lt;= <span class="number">10</span>) &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;卡成ppt😭&lt;/span&gt;`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fps &lt;= <span class="number">30</span>) &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;电竞级帧率😓&lt;/span&gt;`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fps &lt;= <span class="number">60</span>) &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;有点难受😨&lt;/span&gt;`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fps &lt; <span class="number">90</span>) &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;不太流畅😥&lt;/span&gt;`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fps &lt;= <span class="number">144</span>) &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;还不错哦😀&lt;/span&gt;`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;十分流畅😆&lt;/span&gt;`</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            fpsDisplay.<span class="property">innerHTML</span> = <span class="string">`FPS: <span class="subst">$&#123;fps&#125;</span> <span class="subst">$&#123;kd&#125;</span>`</span>;</span><br><span class="line">            frame = <span class="number">0</span>;</span><br><span class="line">            lastTime = now;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">requestAnimationFrame</span>(calculateFPS);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 检测窗口的显示器变化并更新FPS</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">updateFPSOnScreenChange</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        frame = <span class="number">0</span>; <span class="comment">// 重置帧计数器</span></span><br><span class="line">        lastTime = performance.<span class="title function_">now</span>(); <span class="comment">// 重置时间</span></span><br><span class="line">        fpsDisplay.<span class="property">innerHTML</span> = <span class="string">`FPS: <span class="subst">$&#123;fps&#125;</span> (Updating...)`</span>; <span class="comment">// 提示刷新率正在更新</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// 强制重新计算帧率并更新</span></span><br><span class="line">            <span class="title function_">calculateFPS</span>();</span><br><span class="line">        &#125;, <span class="number">500</span>); <span class="comment">// 延迟以确保窗口已移动至新的显示器上</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>, updateFPSOnScreenChange); <span class="comment">// 当窗口被拖动时触发</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">calculateFPS</span>();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;fps&quot;</span>).<span class="property">style</span> = <span class="string">&quot;display:none!important&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="版本3"><a href="#版本3" class="headerlink" title="版本3"></a>版本3</h4><p>还是不行，也存在FPS猛猛飙升的BUG</p><p><strong>使用 <code>window.devicePixelRatio</code> 和 <code>screen</code> 对象监测显示器切换</strong>：使用 <code>window.devicePixelRatio</code> 和 <code>screen.width</code>、<code>screen.height</code> 等属性来判断是否切换到了另一个显示器，结合 <code>requestAnimationFrame</code> 来更新帧率。</p><p>**定期重置 <code>requestAnimationFrame</code>**：在检测到窗口被拖动后，强制重新初始化 <code>requestAnimationFrame</code>，从而让浏览器重新调整其回调频率。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;fpson&quot;</span>) == <span class="literal">undefined</span> || <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;fpson&quot;</span>) == <span class="string">&quot;1&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> frame = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> lastTime = performance.<span class="title function_">now</span>();</span><br><span class="line">    <span class="keyword">let</span> fpsDisplay = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;fps&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> fps = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> currentDevicePixelRatio = <span class="variable language_">window</span>.<span class="property">devicePixelRatio</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">calculateFPS</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">let</span> now = performance.<span class="title function_">now</span>();</span><br><span class="line">        frame++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (now - lastTime &lt; <span class="number">16</span>) &#123;</span><br><span class="line">            <span class="title function_">requestAnimationFrame</span>(calculateFPS);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (now &gt; <span class="number">1000</span> + lastTime) &#123;</span><br><span class="line">            fps = <span class="title class_">Math</span>.<span class="title function_">round</span>((frame * <span class="number">1000</span>) / (now - lastTime));</span><br><span class="line">            <span class="keyword">let</span> kd;</span><br><span class="line">            <span class="keyword">if</span> (fps &lt;= <span class="number">10</span>) &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;卡成ppt😭&lt;/span&gt;`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fps &lt;= <span class="number">30</span>) &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;电竞级帧率😓&lt;/span&gt;`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fps &lt;= <span class="number">60</span>) &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;有点难受😨&lt;/span&gt;`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fps &lt; <span class="number">90</span>) &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;不太流畅😥&lt;/span&gt;`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fps &lt;= <span class="number">144</span>) &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;还不错哦😀&lt;/span&gt;`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                kd = <span class="string">`&lt;span style=&quot;color:#39c5bb&quot;&gt;十分流畅😆&lt;/span&gt;`</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            fpsDisplay.<span class="property">innerHTML</span> = <span class="string">`FPS: <span class="subst">$&#123;fps&#125;</span> <span class="subst">$&#123;kd&#125;</span>`</span>;</span><br><span class="line">            frame = <span class="number">0</span>;</span><br><span class="line">            lastTime = now;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">requestAnimationFrame</span>(calculateFPS);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 检测屏幕切换</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">checkScreenChange</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">devicePixelRatio</span> !== currentDevicePixelRatio) &#123;</span><br><span class="line">            currentDevicePixelRatio = <span class="variable language_">window</span>.<span class="property">devicePixelRatio</span>;</span><br><span class="line">            <span class="title function_">updateFPSOnScreenChange</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 检测窗口的显示器变化并更新FPS</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">updateFPSOnScreenChange</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        frame = <span class="number">0</span>; <span class="comment">// 重置帧计数器</span></span><br><span class="line">        lastTime = performance.<span class="title function_">now</span>(); <span class="comment">// 重置时间</span></span><br><span class="line">        fpsDisplay.<span class="property">innerHTML</span> = <span class="string">`FPS: <span class="subst">$&#123;fps&#125;</span> (Updating...)`</span>; <span class="comment">// 提示刷新率正在更新</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// 强制重新计算帧率并更新</span></span><br><span class="line">            <span class="title function_">calculateFPS</span>();</span><br><span class="line">        &#125;, <span class="number">1000</span>); <span class="comment">// 延迟1秒，确保窗口已移动至新的显示器上</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 监听窗口的resize事件（拖动窗口时）</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>, updateFPSOnScreenChange);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 监听窗口失去焦点和重新获得焦点事件，防止requestAnimationFrame暂停时的异常</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;blur&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        frame = <span class="number">0</span>;</span><br><span class="line">        lastTime = performance.<span class="title function_">now</span>();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;focus&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        frame = <span class="number">0</span>;</span><br><span class="line">        lastTime = performance.<span class="title function_">now</span>();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定期检查屏幕切换</span></span><br><span class="line">    <span class="built_in">setInterval</span>(checkScreenChange, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 开始计算FPS</span></span><br><span class="line">    <span class="title function_">calculateFPS</span>();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;fps&quot;</span>).<span class="property">style</span> = <span class="string">&quot;display:none!important&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Google浏览器帧渲染统计方法-失败"><a href="#Google浏览器帧渲染统计方法-失败" class="headerlink" title="Google浏览器帧渲染统计方法(失败)"></a>Google浏览器帧渲染统计方法(失败)</h2><p>这是google浏览器自带的一个开发工具，可以用来监测浏览器的帧率，打开方法如下</p><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240909151731346.png" alt="image-20240909151731346"></p><p>显示效果如下：主显示屏160刷新率，<strong>正常</strong></p><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240909151928491.png" alt="image-20240909151928491"></p><p>切换到120刷新率的屏幕依然显示160，<strong>异常</strong>，所以，<strong>google也不怎么样</strong></p><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240909152113793.png" alt="image-20240909152113793"></p><p>Edge浏览器没找到帧率检测的工具，不知道实际怎么样</p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
          <category> hexo笔记 </category>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> FPS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网站页脚花样徽标</title>
      <link href="/2024/09/08/%E7%BD%91%E7%AB%99%E9%A1%B5%E8%84%9A%E8%8A%B1%E6%A0%B7%E5%BE%BD%E6%A0%87/"/>
      <url>/2024/09/08/%E7%BD%91%E7%AB%99%E9%A1%B5%E8%84%9A%E8%8A%B1%E6%A0%B7%E5%BE%BD%E6%A0%87/</url>
      
        <content type="html"><![CDATA[<h2 id="页脚徽标效果图"><a href="#页脚徽标效果图" class="headerlink" title="页脚徽标效果图"></a>页脚徽标效果图</h2><p>如红框中的样式，除了比较好看，还可以用来填一些必要内容，如ICP备案号、版权声明、许可证等</p><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240908213812296.png" alt="image-20240908213812296"></p><hr><h2 id="如何制作"><a href="#如何制作" class="headerlink" title="如何制作"></a>如何制作</h2><p>通过插件实现</p><ol><li>安装插件，在<code>G:\Blog</code>下打开<code>Git Base Here</code>,输入如下指令</li></ol><p><code>npm install hexo-butterfly-footer-beautify --save</code></p><ol start="2"><li>在主题配置文件<code>_config.butterfly.yml</code>中添加如下内容</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># footer_beautify</span></span><br><span class="line"><span class="comment"># 页脚计时器：[Native JS Timer](https://akilar.top/posts/b941af/)</span></span><br><span class="line"><span class="comment"># 页脚徽标：[Add Github Badge](https://akilar.top/posts/e87ad7f8/)</span></span><br><span class="line"><span class="attr">footer_beautify:</span></span><br><span class="line">  <span class="attr">enable:</span></span><br><span class="line">    <span class="attr">timer:</span> <span class="literal">true</span> <span class="comment"># 计时器开关</span></span><br><span class="line">    <span class="attr">bdage:</span> <span class="literal">true</span> <span class="comment"># 徽标开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">exclude:</span> <span class="comment">#屏蔽页面</span></span><br><span class="line">    <span class="comment"># - /posts/</span></span><br><span class="line">    <span class="comment"># - /about/</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">footer-wrap</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># ---------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># 下面的先不管，跟页脚徽标设置无关</span></span><br><span class="line">  <span class="comment"># 计时器部分配置项（看你喜欢哪个，最好下载下来放到自己的项目中不然会增加我网站的负载）</span></span><br><span class="line">  <span class="comment"># 这是我的  </span></span><br><span class="line">  <span class="comment"># runtime_js: https://www.fomal.cc/static/js/runtime.js</span></span><br><span class="line">  <span class="comment"># runtime_css: https://www.fomal.cc/static/css/runtime.min.css </span></span><br><span class="line">  <span class="comment"># 这是店长的 </span></span><br><span class="line">  <span class="comment"># runtime_js: https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.js</span></span><br><span class="line">  <span class="comment"># runtime_css: https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.css</span></span><br><span class="line">  <span class="comment"># --------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># 徽标部分配置项</span></span><br><span class="line">  <span class="attr">swiperpara:</span> <span class="number">0</span> <span class="comment">#若非0，则开启轮播功能，每行徽标个数</span></span><br><span class="line">  <span class="attr">bdageitem:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://hexo.io/</span> <span class="comment">#徽标指向网站链接,点击徽标会打开网站</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo</span> <span class="comment">#徽标API</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">博客框架为Hexo_v6.2.0</span> <span class="comment">#徽标提示语,鼠标悬浮在徽标上显示的文字内容</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://butterfly.js.org/</span>  <span class="comment"># 其他徽标...</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">主题版本Butterfly_v4.3.1</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://vercel.com/</span>    <span class="comment"># 其他徽标...</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站采用多线部署，主线路托管于Vercel</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://dashboard.4everland.org/</span>     <span class="comment"># 其他徽标...</span></span><br><span class="line">    <span class="comment"># https://img.shields.io/badge/Hosted-4EVERLAND-3FE2C1?style=flat&amp;logo=IPFS</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站采用多线部署，备用线路托管于4EVERLAND</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://github.com/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站项目由Github托管</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">http://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可</span></span><br><span class="line">  <span class="attr">swiper_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css</span></span><br><span class="line">  <span class="attr">swiper_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js</span></span><br><span class="line">  <span class="attr">swiperbdage_init_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-footer-beautify/lib/swiperbdage_init.min.js</span></span><br></pre></td></tr></table></figure><h2 id="参数释义"><a href="#参数释义" class="headerlink" title="参数释义"></a>参数释义</h2><table><thead><tr><th>参数</th><th>备选值&#x2F;类型</th><th>解释</th></tr></thead><tbody><tr><td>priority</td><td>number</td><td>【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td></tr><tr><td>enable.timer</td><td>true&#x2F;false</td><td>【必选】计时器控制开关</td></tr><tr><td>enable.bdage</td><td>true&#x2F;false</td><td>【必选】徽标控制开关</td></tr><tr><td>enable_page</td><td>path</td><td>【可选】填写想要应用的页面,如根目录就填’&#x2F;‘,分类页面就填’&#x2F;categories&#x2F;‘。若要应用于所有页面，就填<code>all</code>，默认为<code>all</code></td></tr><tr><td>priority</td><td>number</td><td>【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td></tr><tr><td>enable.timer</td><td>true&#x2F;false</td><td>【必选】计时器控制开关</td></tr><tr><td>enable.bdage</td><td>true&#x2F;false</td><td>【必选】徽标控制开关</td></tr><tr><td>enable_page</td><td>path</td><td>【可选】填写想要应用的页面,如根目录就填’&#x2F;‘,分类页面就填’&#x2F;categories&#x2F;‘。若要应用于所有页面，就填<code>all</code>，默认为<code>all</code></td></tr><tr><td>exclude</td><td>path</td><td>【可选】填写想要屏蔽的页面，可以多个。仅当enable_page为’all’时生效。写法见示例。原理是将屏蔽项的内容逐个放到当前路径去匹配，若当前路径包含任一屏蔽项，则不会挂载。</td></tr><tr><td>layout.type</td><td>id&#x2F;class</td><td>【可选】挂载容器类型，填写id或class，不填则默认为id</td></tr><tr><td><a href="http://layout.name/">layout.name</a></td><td>text</td><td>【必选】挂载容器名称</td></tr><tr><td>layout.index</td><td>0和正整数</td><td>【可选】前提是layout.type为class，因为同一页面可能有多个class，此项用来确认究竟排在第几个顺位</td></tr><tr><td>runtime_js</td><td>url</td><td>【必选】页脚计时器脚本，可以下载上文填写示例的链接，参照注释和<a href="https://akilar.top/posts/b941af/">教程：Native JS Timer</a>自行修改。</td></tr><tr><td>runtime_css</td><td>url</td><td>【可选】自定义样式，预留开发者接口，可自行下载。</td></tr><tr><td>swiperpara</td><td>number</td><td>【可选】若非零，则开启轮播功能，此项表示每行最多容纳徽标个数，用来应对徽标过多显得页脚拥挤的问题</td></tr><tr><td>bdageitem.link</td><td>url</td><td>【可选】页脚徽标指向的网站链接</td></tr><tr><td>bdageitem.shields</td><td>url</td><td>【必选】页脚徽标对应的API，API具体写法示例参照<a href="https://akilar.top/posts/e87ad7f8/">教程Add Github Badge</a></td></tr><tr><td>bdageitem.message</td><td>text</td><td>【可选】页脚徽标悬停时显示的信息</td></tr><tr><td>swiper_css</td><td>url</td><td>【可选】swiper的依赖</td></tr><tr><td>swiper_js</td><td>url</td><td>【可选】swiper的依赖</td></tr><tr><td>swiperbdage_init_js</td><td>url</td><td>【可选】swiper初始化方法</td></tr></tbody></table><h2 id="如何生成特色徽标（重要）"><a href="#如何生成特色徽标（重要）" class="headerlink" title="如何生成特色徽标（重要）"></a>如何生成特色徽标（重要）</h2><h3 id="用到的网站："><a href="#用到的网站：" class="headerlink" title="用到的网站："></a>用到的网站：</h3><p><a href="https://shields.io/">徽标生成网站shields.io</a></p><p><a href="https://simpleicons.org/">图标查询网站</a>    （包含3171 个适用于热门品牌的免费SVG图标，网站有点卡）</p><ol><li>在“图标查询网站”选中想要的图标，获取图标的，常用的图标例如<code>GitHub</code>、<code>wordpress</code>、<code>Weibo</code>、<code>哔哩哔哩</code>等图标都可以查得到，选中想要的<code>图标名称</code></li></ol><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240908220253846.png" alt="image-20240908220253846"></p><ol start="2"><li><p>通过<a href="https://shields.io/">shields.io</a>在线生成</p><ul><li>label标签：徽标左侧内容</li><li>message：徽标右侧内容</li><li>color：色值，支持十六进制、rgb、css等常用命名方式，十六进制要删除前面的<code>#</code>号</li></ul></li><li><p>最后的徽标是以 <a href="https://url/">https://URL</a> 的形式给出的，直接在需要的地方引用就行，也可以生成<code>markdown</code>、<code>HTML</code>之类的格式，但是核心都是一个 <a href="https://url/">https://URL</a> 链接</p></li></ol><h2 id="徽标生成语法"><a href="#徽标生成语法" class="headerlink" title="徽标生成语法"></a>徽标生成语法</h2><h3 id="徽标不带logo"><a href="#徽标不带logo" class="headerlink" title="徽标不带logo"></a>徽标不带logo</h3><ul><li>如果既有<code>标签(左边)</code>、又有<code>消息（右边）</code>和<code>颜色</code>，则格式如下，标签、消息和颜色用破折号分隔<code>-</code></li></ul><p><a href="https://img.shields.io/badge/**LEFT_TEXT-RIGHT_TEXT**-**COLOR">https://img.shields.io/badge/**LEFT_TEXT-RIGHT_TEXT**-**COLOR</a>**</p><p>实际例子：</p><p><a href="https://img.shields.io/badge/any_text-you_like-blue">https://img.shields.io/badge/any_text-you_like-blue</a></p><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240908221747975.png" alt="image-20240908221747975"></p><ul><li>如果仅有<code>消息(右边)</code>和颜色，以破折号<code>-</code>分隔，例如</li></ul><p> [<a href="https://img.shields.io/badge/just%20the%20message-8A2BE2]">https://img.shields.io/badge/just%20the%20message-8A2BE2]</a>(<a href="https://img.shields.io/badge/just">https://img.shields.io/badge/just</a> the message-8A2BE2)</p><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240908221814647.png" alt="image-20240908221814647"></p><h3 id="徽标带前置logo"><a href="#徽标带前置logo" class="headerlink" title="徽标带前置logo"></a>徽标带前置logo</h3><ul><li>在上面写好标签、消息、颜色的基础上加上一个<code>?logo=xxx</code>查询字段，其中<code>xxx</code>是在图标查询网站获取的图标名称，例如<code>bitdefender</code>，最终效果如下</li></ul><p><a href="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender">https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender</a></p><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240908222757830.png" alt="image-20240908222757830"></p><ul><li><p>还可以设置style和，style可选值 [<code>flat</code>, <code>flat-square</code>, <code>plastic</code>, <code>for-the-badge</code>, <code>social</code>]，一般用flat就合适了</p><h3 id="扩展写法示例"><a href="#扩展写法示例" class="headerlink" title="扩展写法示例"></a>扩展写法示例</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 普通样式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/Frame-Hexo-blue&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 五种style预览 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;style=plastic&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;style=flat&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;style=flat-square&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;style=for-the-badge&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;style=social&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加图标和自定义label --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;label=框架&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加图标和图标宽度 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;logoWidth=30&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 图标、label、message三部分颜色自定义 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;label=框架&amp;logoColor=violet&amp;labalColor=#1fd041&amp;color=rgb(222, 31, 31)&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 给标签添加链接 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">object</span> <span class="attr">data</span>=<span class="string">&quot;https://img.shields.io/badge/Frame-Hexo-blue?logo=Hexo&amp;link=https://hexo.io/&amp;https://hexo.io/zh-cn/docs/&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">object</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 也可以通过嵌套a标签来实现添加链接 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://hexo.io&quot;</span> <span class="attr">title</span>=<span class="string">&quot;框架采用Hexo&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/Frame-Hexo-blue&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="config-butterfly-yml中关于徽标各项字段释义"><a href="#config-butterfly-yml中关于徽标各项字段释义" class="headerlink" title="_config.butterfly.yml中关于徽标各项字段释义"></a>_config.butterfly.yml中关于徽标各项字段释义</h2><p><code>- link:</code>点击徽标时打开的网址</p><p><code>shields:</code>徽标的URL，通过上面的语法获取</p><p><code>message:</code>悬浮在徽标时显示的文字内容</p><p>现在有个问题是鼠标悬停在徽标上时并没有显示message，可能是其他配置没做好，还不知道问题</p><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>现在ICP备案还没完成，等备案完成后再添加备案号和跳转链接</p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
          <category> hexo笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 美化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo美化(二)</title>
      <link href="/2024/09/08/hexo%E7%BE%8E%E5%8C%96-%E4%BA%8C/"/>
      <url>/2024/09/08/hexo%E7%BE%8E%E5%8C%96-%E4%BA%8C/</url>
      
        <content type="html"><![CDATA[<h2 id="教程出处"><a href="#教程出处" class="headerlink" title="教程出处"></a>教程出处</h2><p><a href="https://www.fomal.cc/">博客魔改</a></p><h2 id="页脚计时器及徽标"><a href="#页脚计时器及徽标" class="headerlink" title="页脚计时器及徽标"></a>页脚计时器及徽标</h2><p><strong>效果：</strong></p><ol><li>在<code>G:\Blog</code>打开<code>Git Bash Here</code>，输入如下命令：</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-footer-beautify --save</span><br></pre></td></tr></table></figure><ol start="2"><li>打开<code>G:\Blog\_config.butterfly.yml</code>，添加以下代码：</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># footer_beautify</span></span><br><span class="line"><span class="comment"># 页脚计时器：[Native JS Timer](https://akilar.top/posts/b941af/)</span></span><br><span class="line"><span class="comment"># 页脚徽标：[Add Github Badge](https://akilar.top/posts/e87ad7f8/)</span></span><br><span class="line"><span class="attr">footer_beautify:</span></span><br><span class="line">  <span class="attr">enable:</span></span><br><span class="line">    <span class="attr">timer:</span> <span class="literal">true</span> <span class="comment"># 计时器开关</span></span><br><span class="line">    <span class="attr">bdage:</span> <span class="literal">true</span> <span class="comment"># 徽标开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">exclude:</span> <span class="comment">#屏蔽页面</span></span><br><span class="line">    <span class="comment"># - /posts/</span></span><br><span class="line">    <span class="comment"># - /about/</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">footer-wrap</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># 计时器部分配置项（看你喜欢哪个，最好下载下来放到自己的项目中不然会增加我网站的负载）</span></span><br><span class="line">  <span class="comment"># 这是我的  </span></span><br><span class="line">   <span class="attr">runtime_js:</span> <span class="string">/js/runtime.js</span></span><br><span class="line">   <span class="attr">runtime_css:</span> <span class="string">/css/runtime.css</span> </span><br><span class="line">  <span class="comment"># 这是店长的 </span></span><br><span class="line">  <span class="comment">#runtime_js: https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.js</span></span><br><span class="line">  <span class="comment">#runtime_css: https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.css</span></span><br><span class="line">  <span class="comment"># 徽标部分配置项</span></span><br><span class="line">  <span class="attr">swiperpara:</span> <span class="number">0</span> <span class="comment">#若非0，则开启轮播功能，每行徽标个数</span></span><br><span class="line">  <span class="attr">bdageitem:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://hexo.io/</span> <span class="comment">#徽标指向网站链接</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo</span> <span class="comment">#徽标API</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">博客框架为Hexo_v6.2.0</span> <span class="comment">#徽标提示语</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://butterfly.js.org/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">主题版本Butterfly_v4.3.1</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://vercel.com/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站采用多线部署，主线路托管于Vercel</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://dashboard.4everland.org/</span></span><br><span class="line">    <span class="comment"># https://img.shields.io/badge/Hosted-4EVERLAND-3FE2C1?style=flat&amp;logo=IPFS</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站采用多线部署，备用线路托管于4EVERLAND</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://github.com/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站项目由Github托管</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">http://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可</span></span><br><span class="line">  <span class="attr">swiper_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css</span></span><br><span class="line">  <span class="attr">swiper_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js</span></span><br><span class="line">  <span class="attr">swiperbdage_init_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-footer-beautify/lib/swiperbdage_init.min.js</span></span><br></pre></td></tr></table></figure><ol start="3"><li>设置页脚显示的文字内容和计数，在<code>G:\Blog\source\js</code>下新建<code>runtime.js</code>,写入如下内容，可自行根据GPT自定制</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> now=<span class="keyword">new</span> <span class="title class_">Date</span>;<span class="keyword">function</span> <span class="title function_">createtime</span>(<span class="params"></span>)&#123;now.<span class="title function_">setTime</span>(now.<span class="title function_">getTime</span>()+<span class="number">1e3</span>);<span class="keyword">var</span> e=<span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;08/01/2022 00:00:00&quot;</span>),t=<span class="title class_">Math</span>.<span class="title function_">trunc</span>(<span class="number">234e8</span>+(now-e)/<span class="number">1e3</span>*<span class="number">17</span>),a=(t/<span class="number">1496e5</span>).<span class="title function_">toFixed</span>(<span class="number">6</span>),o=<span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;08/09/2022 00:00:00&quot;</span>),n=(now-o)/<span class="number">1e3</span>/<span class="number">60</span>/<span class="number">60</span>/<span class="number">24</span>,r=<span class="title class_">Math</span>.<span class="title function_">floor</span>(n),i=(now-o)/<span class="number">1e3</span>/<span class="number">60</span>/<span class="number">60</span>-<span class="number">24</span>*r,s=<span class="title class_">Math</span>.<span class="title function_">floor</span>(i);<span class="number">1</span>==<span class="title class_">String</span>(s).<span class="property">length</span>&amp;&amp;(s=<span class="string">&quot;0&quot;</span>+s);<span class="keyword">var</span> d=(now-o)/<span class="number">1e3</span>/<span class="number">60</span>-<span class="number">1440</span>*r-<span class="number">60</span>*s,l=<span class="title class_">Math</span>.<span class="title function_">floor</span>(d);<span class="number">1</span>==<span class="title class_">String</span>(l).<span class="property">length</span>&amp;&amp;(l=<span class="string">&quot;0&quot;</span>+l);<span class="keyword">var</span> g=(now-o)/<span class="number">1e3</span>-<span class="number">86400</span>*r-<span class="number">3600</span>*s-<span class="number">60</span>*l,b=<span class="title class_">Math</span>.<span class="title function_">round</span>(g);<span class="number">1</span>==<span class="title class_">String</span>(b).<span class="property">length</span>&amp;&amp;(b=<span class="string">&quot;0&quot;</span>+b);<span class="keyword">let</span> c=<span class="string">&quot;&quot;</span>;c=s&lt;<span class="number">18</span>&amp;&amp;s&gt;=<span class="number">9</span>?<span class="string">`&lt;img class=&#x27;boardsign&#x27; src=&#x27;https://sourcebucket.s3.ladydaily.com/badge/F小屋-科研摸鱼中.svg&#x27; title=&#x27;什么时候能够实现财富自由呀~&#x27;&gt;&lt;br&gt; &lt;div style=&quot;font-size:13px;font-weight:bold&quot;&gt;本站居然运行了 <span class="subst">$&#123;r&#125;</span> 天 <span class="subst">$&#123;s&#125;</span> 小时 <span class="subst">$&#123;l&#125;</span> 分 <span class="subst">$&#123;b&#125;</span> 秒 &lt;i id=&quot;heartbeat&quot; class=&#x27;fas fa-heartbeat&#x27;&gt;&lt;/i&gt; &lt;br&gt; 旅行者 1 号当前距离地球 <span class="subst">$&#123;t&#125;</span> 千米，约为 <span class="subst">$&#123;a&#125;</span> 个天文单位 🚀&lt;/div&gt;`</span>:<span class="string">`&lt;img class=&#x27;boardsign&#x27; src=&#x27;https://sourcebucket.s3.ladydaily.com/badge/F小屋-下班休息啦.svg&#x27; title=&#x27;下班了就该开开心心地玩耍~&#x27;&gt;&lt;br&gt; &lt;div style=&quot;font-size:13px;font-weight:bold&quot;&gt;本站居然运行了 <span class="subst">$&#123;r&#125;</span> 天 <span class="subst">$&#123;s&#125;</span> 小时 <span class="subst">$&#123;l&#125;</span> 分 <span class="subst">$&#123;b&#125;</span> 秒 &lt;i id=&quot;heartbeat&quot; class=&#x27;fas fa-heartbeat&#x27;&gt;&lt;/i&gt; &lt;br&gt; 旅行者 1 号当前距离地球 <span class="subst">$&#123;t&#125;</span> 千米，约为 <span class="subst">$&#123;a&#125;</span> 个天文单位 🚀&lt;/div&gt;`</span>,<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;workboard&quot;</span>)&amp;&amp;(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;workboard&quot;</span>).<span class="property">innerHTML</span>=c)&#125;<span class="built_in">setInterval</span>((<span class="function">()=&gt;</span>&#123;<span class="title function_">createtime</span>()&#125;),<span class="number">1e3</span>);</span><br></pre></td></tr></table></figure><h2 id="文章双侧栏"><a href="#文章双侧栏" class="headerlink" title="文章双侧栏"></a>文章双侧栏</h2><p><strong>效果</strong>：本来blog显示文章是单列的，改为双侧栏之后效果如下</p><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240910165942329.png" alt="image-20240910165942329"></p><ol><li><p>下载插件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-butterfly-article-double-row --save</span><br></pre></td></tr></table></figure></li><li><p>在网站配置文件<code>G:\Blog\_config.yml</code>（注：不是主题配置文件！！）下添加如下配置：</p></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 文章双栏布局</span></span><br><span class="line"><span class="attr">butterfly_article_double_row:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ol start="3"><li>hexo三连</li></ol><p><strong>参考</strong>：<a href="https://zfe.space/post/hexo-butterfly-article-double-row.html">教程：butterfly 主题文章双栏布局插件</a></p><h2 id="雪花飘落特效"><a href="#雪花飘落特效" class="headerlink" title="雪花飘落特效"></a>雪花飘落特效</h2><p><strong>前言：</strong>以前在WordPress也用js实现过雪花飘落的特效，但是对服务器性能要求蛮高的，容易出现卡顿，现在这个js好一点，要求不那么高，毕竟是静态博客</p><p><strong>效果</strong>：在网页飘雪，动态，但是没有以前WordPress那个脚本那么好，那个是会跟着屏幕从最上面掉落在最下面，现在这个只能在屏幕下</p><ol><li>新建js文件<code>G:\Blog\source\js\snow.js</code>，写入如下内容</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (</span><br><span class="line">  navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(</span><br><span class="line">    <span class="regexp">/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i</span></span><br><span class="line">  )</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="comment">// 移动端不显示</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// document.write(&#x27;&lt;canvas id=&quot;snow&quot; style=&quot;position:fixed;top:0;left:0;width:100%;height:100%;z-index:-2;pointer-events:none&quot;&gt;&lt;/canvas&gt;&#x27;);</span></span><br><span class="line"></span><br><span class="line">  <span class="variable language_">window</span> &amp;&amp;</span><br><span class="line">    (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> e = &#123;</span><br><span class="line">        <span class="attr">flakeCount</span>: <span class="number">30</span>, <span class="comment">// 雪花数目</span></span><br><span class="line">        <span class="attr">minDist</span>: <span class="number">150</span>, <span class="comment">// 最小距离</span></span><br><span class="line">        <span class="attr">color</span>: <span class="string">&quot;240, 235, 235&quot;</span>, <span class="comment">// 雪花颜色</span></span><br><span class="line">        <span class="attr">size</span>: <span class="number">1.5</span>, <span class="comment">// 雪花大小</span></span><br><span class="line">        <span class="attr">speed</span>: <span class="number">0.4</span>, <span class="comment">// 雪花速度</span></span><br><span class="line">        <span class="attr">opacity</span>: <span class="number">0.8</span>, <span class="comment">// 雪花透明度</span></span><br><span class="line">        <span class="attr">stepsize</span>: <span class="number">0.3</span>, <span class="comment">// 步距</span></span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="comment">//   ❄,❅,❆,❇,❈,❊,✳,✴,✻</span></span><br><span class="line">    <span class="comment">//   const snowflakes = [&quot;❄,❅,❆,❇,❈,❊,✳,✴,✻&quot;];</span></span><br><span class="line">      <span class="keyword">const</span> t =</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> ||</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">mozRequestAnimationFrame</span> ||</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">webkitRequestAnimationFrame</span> ||</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">msRequestAnimationFrame</span> ||</span><br><span class="line">        <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">          <span class="variable language_">window</span>.<span class="built_in">setTimeout</span>(e, <span class="number">1e3</span> / <span class="number">60</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> = t;</span><br><span class="line">      <span class="keyword">const</span> i = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;snow&quot;</span>),</span><br><span class="line">        n = i.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>),</span><br><span class="line">        o = e.<span class="property">flakeCount</span>;</span><br><span class="line">      <span class="keyword">let</span> a = -<span class="number">100</span>,</span><br><span class="line">        d = -<span class="number">100</span>,</span><br><span class="line">        s = [];</span><br><span class="line">      (i.<span class="property">width</span> = <span class="variable language_">window</span>.<span class="property">innerWidth</span>), (i.<span class="property">height</span> = <span class="variable language_">window</span>.<span class="property">innerHeight</span>);</span><br><span class="line">      <span class="keyword">const</span> <span class="title function_">h</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">          n.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, i.<span class="property">width</span>, i.<span class="property">height</span>);</span><br><span class="line">          <span class="keyword">const</span> r = e.<span class="property">minDist</span>;</span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">let</span> t = <span class="number">0</span>; t &lt; o; t++) &#123;</span><br><span class="line">            <span class="keyword">let</span> o = s[t];</span><br><span class="line">            <span class="keyword">const</span> h = a,</span><br><span class="line">              w = d,</span><br><span class="line">              m = o.<span class="property">x</span>,</span><br><span class="line">              c = o.<span class="property">y</span>,</span><br><span class="line">              p = <span class="title class_">Math</span>.<span class="title function_">sqrt</span>((h - m) * (h - m) + (w - c) * (w - c));</span><br><span class="line">            <span class="keyword">if</span> (p &lt; r) &#123;</span><br><span class="line">              <span class="keyword">const</span> e = (h - m) / p,</span><br><span class="line">                t = (w - c) / p,</span><br><span class="line">                i = r / (p * p) / <span class="number">2</span>;</span><br><span class="line">              (o.<span class="property">velX</span> -= i * e), (o.<span class="property">velY</span> -= i * t);</span><br><span class="line">            &#125; <span class="title function_">else</span></span><br><span class="line">              (o.<span class="property">velX</span> *= <span class="number">0.98</span>),</span><br><span class="line">                o.<span class="property">velY</span> &lt; o.<span class="property">speed</span> &amp;&amp;</span><br><span class="line">                  o.<span class="property">speed</span> - o.<span class="property">velY</span> &gt; <span class="number">0.01</span> &amp;&amp;</span><br><span class="line">                  (o.<span class="property">velY</span> += <span class="number">0.01</span> * (o.<span class="property">speed</span> - o.<span class="property">velY</span>)),</span><br><span class="line">                (o.<span class="property">velX</span> += <span class="title class_">Math</span>.<span class="title function_">cos</span>((o.<span class="property">step</span> += <span class="number">0.05</span>)) * o.<span class="property">stepSize</span>);</span><br><span class="line">            (n.<span class="property">fillStyle</span> = <span class="string">&quot;rgba(&quot;</span> + e.<span class="property">color</span> + <span class="string">&quot;, &quot;</span> + o.<span class="property">opacity</span> + <span class="string">&quot;)&quot;</span>),</span><br><span class="line">              (o.<span class="property">y</span> += o.<span class="property">velY</span>),</span><br><span class="line">              (o.<span class="property">x</span> += o.<span class="property">velX</span>),</span><br><span class="line">              (o.<span class="property">y</span> &gt;= i.<span class="property">height</span> || o.<span class="property">y</span> &lt;= <span class="number">0</span>) &amp;&amp; <span class="title function_">l</span>(o),</span><br><span class="line">              (o.<span class="property">x</span> &gt;= i.<span class="property">width</span> || o.<span class="property">x</span> &lt;= <span class="number">0</span>) &amp;&amp; <span class="title function_">l</span>(o),</span><br><span class="line">              (n.<span class="property">font</span> = o.<span class="property">size</span> * <span class="number">5</span> + <span class="string">&quot;px Arial&quot;</span>); <span class="comment">// 根据雪花大小设置字体大小</span></span><br><span class="line">            n.<span class="title function_">fillText</span>(<span class="string">&quot;❅&quot;</span>, o.<span class="property">x</span>, o.<span class="property">y</span>); <span class="comment">// 使用雪花符号替代圆形</span></span><br><span class="line">          &#125;</span><br><span class="line">          <span class="title function_">t</span>(h);</span><br><span class="line">        &#125;,</span><br><span class="line">        l = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">          (e.<span class="property">x</span> = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * i.<span class="property">width</span>)),</span><br><span class="line">            (e.<span class="property">y</span> = <span class="number">0</span>),</span><br><span class="line">            (e.<span class="property">size</span> = <span class="number">3</span> * <span class="title class_">Math</span>.<span class="title function_">random</span>() + <span class="number">2</span>),</span><br><span class="line">            (e.<span class="property">speed</span> = <span class="number">1</span> * <span class="title class_">Math</span>.<span class="title function_">random</span>() + <span class="number">0.5</span>),</span><br><span class="line">            (e.<span class="property">velY</span> = e.<span class="property">speed</span>),</span><br><span class="line">            (e.<span class="property">velX</span> = <span class="number">0</span>),</span><br><span class="line">            (e.<span class="property">opacity</span> = <span class="number">0.5</span> * <span class="title class_">Math</span>.<span class="title function_">random</span>() + <span class="number">0.3</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;mousemove&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">        (a = e.<span class="property">clientX</span>), (d = e.<span class="property">clientY</span>);</span><br><span class="line">      &#125;),</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          (i.<span class="property">width</span> = <span class="variable language_">window</span>.<span class="property">innerWidth</span>), (i.<span class="property">height</span> = <span class="variable language_">window</span>.<span class="property">innerHeight</span>);</span><br><span class="line">        &#125;),</span><br><span class="line">        (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">let</span> t = <span class="number">0</span>; t &lt; o; t++) &#123;</span><br><span class="line">            <span class="keyword">const</span> t = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * i.<span class="property">width</span>),</span><br><span class="line">              n = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * i.<span class="property">height</span>),</span><br><span class="line">              o = <span class="number">3</span> * <span class="title class_">Math</span>.<span class="title function_">random</span>() + e.<span class="property">size</span>,</span><br><span class="line">              a = <span class="number">1</span> * <span class="title class_">Math</span>.<span class="title function_">random</span>() + e.<span class="property">speed</span>,</span><br><span class="line">              d = <span class="number">0.5</span> * <span class="title class_">Math</span>.<span class="title function_">random</span>() + e.<span class="property">opacity</span>;</span><br><span class="line">            s.<span class="title function_">push</span>(&#123;</span><br><span class="line">              <span class="attr">speed</span>: a,</span><br><span class="line">              <span class="attr">velX</span>: <span class="number">0</span>,</span><br><span class="line">              <span class="attr">velY</span>: a,</span><br><span class="line">              <span class="attr">x</span>: t,</span><br><span class="line">              <span class="attr">y</span>: n,</span><br><span class="line">              <span class="attr">size</span>: o,</span><br><span class="line">              <span class="attr">stepSize</span>: (<span class="title class_">Math</span>.<span class="title function_">random</span>() / <span class="number">30</span>) * e.<span class="property">stepsize</span>,</span><br><span class="line">              <span class="attr">step</span>: <span class="number">0</span>,</span><br><span class="line">              <span class="attr">angle</span>: <span class="number">180</span>,</span><br><span class="line">              <span class="attr">opacity</span>: d,</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="title function_">h</span>();</span><br><span class="line">        &#125;)();</span><br><span class="line">    &#125;)();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>在<code>G:\Blog\source\css\custom.css</code>添加如下css代码</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 雪花特效 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#snow</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">  <span class="attribute">z-index</span>: -<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 雪花黑夜模式不显示 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#snow</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>引入画布元素,在<code>G:\Blog\_config.butterfly.yml</code>中进行如下配置</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span> </span><br><span class="line">  <span class="attr">bottom:</span> </span><br><span class="line"><span class="string">+</span>    <span class="bullet">-</span> <span class="string">&lt;canvas</span> <span class="string">id=&quot;snow&quot;&gt;&lt;/canvas&gt;</span> <span class="comment"># 雪花画布</span></span><br><span class="line"><span class="string">+</span>    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;/js/snow.js&quot;&gt;&lt;/script&gt;</span> <span class="comment"># 雪花特效</span></span><br></pre></td></tr></table></figure><ol start="4"><li>hexo三连即可看到效果，<code>只在白天模式显示</code>，夜晚模式有流星特效和星光特效了</li></ol><hr><h2 id="侧边栏新年倒计时-Leonus"><a href="#侧边栏新年倒计时-Leonus" class="headerlink" title="侧边栏新年倒计时(Leonus)"></a>侧边栏新年倒计时(Leonus)</h2><p>效果：添加一个侧边新年倒计时卡片</p><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240910230039721.png" alt="image-20240910230039721"></p><ol><li>新建文件<code>G:\Blog\source\_data\widget.yml</code>，写入如下内容，具体含义可以看<a href="https://butterfly.js.org/posts/ea33ab97/#%E8%87%AA%E5%AE%9A%E7%BE%A9-widget">butterfly官方文档</a></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># top: 创建的 widget 会出现在非 sticky 区域（即所有页面都会显示)</span></span><br><span class="line"><span class="comment"># bottom: 创建的 widget 会出现在 sticky 区域（除了文章页都会显示)</span></span><br><span class="line"><span class="attr">top:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">class_name:</span></span><br><span class="line">    <span class="attr">id_name:</span> <span class="string">newYear</span></span><br><span class="line">    <span class="attr">name:</span></span><br><span class="line">    <span class="attr">icon:</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">1</span></span><br><span class="line">    <span class="attr">html:</span> <span class="string">&#x27;&lt;div id=&quot;newYear-main&quot;&gt;&lt;div class=&quot;mask&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;p class=&quot;title&quot;&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string">      &lt;div class=&quot;newYear-time&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;p class=&quot;today&quot; style=&quot;text-align: right;&quot;&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;&#x27;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>添加如下css代码</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/* 新年侧边栏 */</span></span><br><span class="line"><span class="selector-id">#newYear</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#newYear</span> <span class="selector-tag">p</span>,</span><br><span class="line"><span class="selector-id">#newYear</span> <span class="selector-tag">h3</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">  <span class="attribute">color</span>: inherit;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#newYear</span> <span class="selector-class">.item-headline</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#newYear-main</span> &#123;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">160px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">https://tuchuang.voooe.cn/images/2023/01/02/tunian.webp</span>);</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">  <span class="attribute">background-position</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#newYear-main</span> * &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#newYear-main</span> <span class="selector-class">.newYear-time</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#newYear-main</span> <span class="selector-class">.time</span>,</span><br><span class="line"><span class="selector-id">#newYear-main</span> <span class="selector-class">.happyNewYear</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">3.5rem</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">1rem</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 中间的天数显示 */</span></span><br><span class="line"><span class="selector-id">#newYear-main</span> <span class="selector-class">.day</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">4.5rem</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">243</span>, <span class="number">232</span>, <span class="number">194</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#newYear-main</span> <span class="selector-class">.day</span> <span class="selector-class">.unit</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#newYear-main</span> <span class="selector-class">.mask</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 左上角的倒计时标题 */</span></span><br><span class="line"><span class="selector-id">#newYear</span> <span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">243</span>, <span class="number">232</span>, <span class="number">194</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 右下角的日期显示 */</span></span><br><span class="line"><span class="selector-id">#newYear</span> <span class="selector-class">.today</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">243</span>, <span class="number">232</span>, <span class="number">194</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>新建js文件<code>G:\Blog\source\js\newYear.js</code>，写入如下内容</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> newYearTimer = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="title function_">newYear</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="built_in">clearTimeout</span>(newYearTimer);</span><br><span class="line">  <span class="keyword">if</span> (!<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#newYear&quot;</span>)) <span class="keyword">return</span>;</span><br><span class="line">  <span class="comment">// 新年时间戳 and 星期对象</span></span><br><span class="line">  <span class="keyword">let</span> newYear = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;2025-01-29 00:00:00&quot;</span>).<span class="title function_">getTime</span>() / <span class="number">1000</span>,</span><br><span class="line">    week = &#123;</span><br><span class="line">      <span class="number">0</span>: <span class="string">&quot;周日&quot;</span>,</span><br><span class="line">      <span class="number">1</span>: <span class="string">&quot;周一&quot;</span>,</span><br><span class="line">      <span class="number">2</span>: <span class="string">&quot;周二&quot;</span>,</span><br><span class="line">      <span class="number">3</span>: <span class="string">&quot;周三&quot;</span>,</span><br><span class="line">      <span class="number">4</span>: <span class="string">&quot;周四&quot;</span>,</span><br><span class="line">      <span class="number">5</span>: <span class="string">&quot;周五&quot;</span>,</span><br><span class="line">      <span class="number">6</span>: <span class="string">&quot;周六&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">time</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 补零函数</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">nol</span>(<span class="params">h</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> h &gt; <span class="number">9</span> ? h : <span class="string">&quot;0&quot;</span> + h;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">time</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 现在 时间对象</span></span><br><span class="line">    <span class="keyword">let</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 右下角 今天</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#newYear .today&quot;</span>).<span class="property">innerHTML</span> =</span><br><span class="line">      now.<span class="title function_">getFullYear</span>() +</span><br><span class="line">      <span class="string">&quot;-&quot;</span> +</span><br><span class="line">      (now.<span class="title function_">getMonth</span>() + <span class="number">1</span>) +</span><br><span class="line">      <span class="string">&quot;-&quot;</span> +</span><br><span class="line">      now.<span class="title function_">getDate</span>() +</span><br><span class="line">      <span class="string">&quot; &quot;</span> +</span><br><span class="line">      week[now.<span class="title function_">getDay</span>()];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 现在与新年相差秒数</span></span><br><span class="line">    <span class="keyword">let</span> second = newYear - <span class="title class_">Math</span>.<span class="title function_">round</span>(now.<span class="title function_">getTime</span>() / <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 小于0则表示已经过年</span></span><br><span class="line">    <span class="keyword">if</span> (second &lt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#newYear .title&quot;</span>).<span class="property">innerHTML</span> = <span class="string">&quot;Happy New Year!&quot;</span>;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#newYear .newYear-time&quot;</span>).<span class="property">innerHTML</span> =</span><br><span class="line">        <span class="string">&#x27;&lt;span class=&quot;happyNewYear&quot;&gt;新年快乐&lt;/p&gt;&#x27;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 大于0则还未过年</span></span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#newYear .title&quot;</span>).<span class="property">innerHTML</span> = <span class="string">&quot;距离2025年春节还有：&quot;</span>;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 大于一天则直接渲染天数</span></span><br><span class="line">      <span class="keyword">if</span> (second &gt; <span class="number">86400</span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(</span><br><span class="line">          <span class="string">&quot;#newYear .newYear-time&quot;</span></span><br><span class="line">        ).<span class="property">innerHTML</span> = <span class="string">`&lt;span class=&quot;day&quot;&gt;<span class="subst">$&#123;<span class="built_in">Math</span>.ceil(</span></span></span><br><span class="line"><span class="subst"><span class="string">          second / <span class="number">86400</span></span></span></span><br><span class="line"><span class="subst"><span class="string">        )&#125;</span>&lt;span class=&quot;unit&quot;&gt;天&lt;/span&gt;&lt;/span&gt;`</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 小于一天则使用时分秒计时。</span></span><br><span class="line">        <span class="keyword">let</span> h = <span class="title function_">nol</span>(<span class="built_in">parseInt</span>(second / <span class="number">3600</span>));</span><br><span class="line">        second %= <span class="number">3600</span>;</span><br><span class="line">        <span class="keyword">let</span> m = <span class="title function_">nol</span>(<span class="built_in">parseInt</span>(second / <span class="number">60</span>));</span><br><span class="line">        second %= <span class="number">60</span>;</span><br><span class="line">        <span class="keyword">let</span> s = <span class="title function_">nol</span>(second);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(</span><br><span class="line">          <span class="string">&quot;#newYear .newYear-time&quot;</span></span><br><span class="line">        ).<span class="property">innerHTML</span> = <span class="string">`&lt;span class=&quot;time&quot;&gt;<span class="subst">$&#123;h&#125;</span>:<span class="subst">$&#123;m&#125;</span>:<span class="subst">$&#123;s&#125;</span>&lt;/span&gt;&lt;/span&gt;`</span>;</span><br><span class="line">        <span class="comment">// 计时</span></span><br><span class="line">        newYearTimer = <span class="built_in">setTimeout</span>(time, <span class="number">1000</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 元宝飘落</span></span><br><span class="line">  <span class="title function_">jQuery</span>(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span> (<span class="params">$</span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;#newYear&quot;</span>).<span class="title function_">wpSuperSnow</span>(&#123;</span><br><span class="line">      <span class="attr">flakes</span>: [</span><br><span class="line">        <span class="string">&quot;https://tuchuang.voooe.cn/images/2023/01/02/yb1.webp&quot;</span>,</span><br><span class="line">        <span class="string">&quot;https://tuchuang.voooe.cn/images/2023/01/02/yb2.webp&quot;</span>,</span><br><span class="line">        <span class="string">&quot;https://tuchuang.voooe.cn/images/2023/01/02/yb3.webp&quot;</span>,</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">totalFlakes</span>: <span class="string">&quot;100&quot;</span>,</span><br><span class="line">      <span class="attr">zIndex</span>: <span class="string">&quot;999999&quot;</span>,</span><br><span class="line">      <span class="attr">maxSize</span>: <span class="string">&quot;30&quot;</span>,</span><br><span class="line">      <span class="attr">maxDuration</span>: <span class="string">&quot;20&quot;</span>,</span><br><span class="line">      <span class="attr">useFlakeTrans</span>: <span class="literal">false</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 若没有开启Pjax这里直接是newYear()即可</span></span><br><span class="line"><span class="title function_">newYear</span>()</span><br><span class="line"><span class="comment">// 开了Pjax的用以下两句</span></span><br><span class="line"><span class="comment">// document.addEventListener(&quot;pjax:complete&quot;, newYear);</span></span><br><span class="line"><span class="comment">// document.addEventListener(&quot;DOMContentLoaded&quot;, newYear);</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="4"><li>下载<code>jquery-3.6.3.min.js</code>到本地并放入<code>G:\Blog\source\js\jquery-3.6.3.min.js</code>，<del>因为之前配置访客欢迎信息时引入了<code>jquery-3.6.1.min.js</code>，但是现在用3.6.3更高版本替代了，使用在配置文件中把之前引入的3.6.1注销掉，直接使用3.6.3版本的</del>，<code>不能注释掉jquery-3.6.1.min.js</code>！！！，可以不使用jquery-3.6.3.min.js，但是一定要有jquery-3.6.1.min.js，否则访客欢迎页面就会加载不出欢迎信息。</li><li>在<code>G:\Blog\_config.butterfly.yml</code>引入依赖文件</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line"><span class="string">+</span>    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;js/jquery-3.6.3.min.js&quot;&gt;&lt;/script&gt;</span> <span class="comment"># jQuery3.6.3</span></span><br><span class="line">     <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/jquery-3.6.1.min.js&quot;&gt;&lt;/script&gt;~~</span></span><br><span class="line"><span class="string">+</span>    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">data-pjax</span> <span class="string">src=&quot;https://cdn.wpon.cn/2022-sucai/Gold-ingot.js&quot;&gt;&lt;/script&gt;</span>  <span class="comment"># 新年元宝</span></span><br><span class="line"><span class="string">+</span>    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">data-pjax</span> <span class="string">src=&quot;/js/newYear.js&quot;&gt;&lt;/script&gt;</span>  <span class="comment"># 新年倒计时</span></span><br></pre></td></tr></table></figure><ol start="6"><li>hexo三连重启项目</li></ol><p><strong>参考教程</strong> <a href="https://blog.leonus.cn/2023/newYearCard.html">博客新年倒计时卡片</a></p><h2 id="字体更换"><a href="#字体更换" class="headerlink" title="字体更换"></a>字体更换</h2><p><strong>效果</strong>：替换网站的默认字体，让中文和代码使用不同的字体</p><p>中文字体：<a href="https://www.kaixuan.org/usr/themes/hm-m.woff2"><strong>鸿蒙字体（粗体）</strong></a></p><p>代码字体：<a href="https://www.jetbrains.com/lp/mono/">JetBrainsMono-Regular</a></p><p><strong>其他不错的字体</strong></p><p><a href="https://www.kaixuan.org/usr/themes/opposans.woff2">OPPOSans字体 常规款</a></p><p><a href="https://www.kaixuan.org/usr/themes/opposans-m.woff2">OPPOSans字体 粗体款</a></p><p><a href="https://www.kaixuan.org/usr/themes/DFPKingGothicGB-Regular.woff2">华康金刚</a></p><p><a href="https://www.kaixuan.org/usr/themes/sourcehansans.woff2">思源黑体</a></p><p><strong>说明</strong>：支持多重字体格式（ttf、otf、woff、woff2、eot…），但是最推荐用<code>.woff2</code>的，因为它能提供更高的压缩率，比woff更小，加载速度更快</p><ol><li>在<code>G:\Blog\source\css\custom.css</code>添加如下代码</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">/* 文章字体 */</span><br><span class="line">@font-face &#123;</span><br><span class="line">  /* 为载入的字体取名字(随意) */</span><br><span class="line">  font-family: &#x27;myFont&#x27;;</span><br><span class="line">  /* 字体文件地址(相对或者绝对路径都可以) */</span><br><span class="line">  src: url(/font/hm-m.woff2);</span><br><span class="line">  /* 定义加粗样式(加粗多少) */</span><br><span class="line">  font-weight: normal;</span><br><span class="line">  /* 定义字体样式(斜体/非斜体) */</span><br><span class="line">  font-style: normal;</span><br><span class="line">  /* 定义显示样式 */</span><br><span class="line">  font-display: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 代码字体 */</span><br><span class="line">@font-face &#123;</span><br><span class="line">  font-family: &#x27;CodeFont&#x27;;</span><br><span class="line">  src: url(&#x27;/font/JetBrainsMono-Regular.woff2&#x27;);</span><br><span class="line">  font-weight: normal;</span><br><span class="line">  font-style: normal;</span><br><span class="line">  font-display: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li><p>新建文件夹<code>G:\Blog\source\font</code>，将下载的字体放入文件夹下，我使用的中文字体是<code>hm-m.woff2</code>，代码字体为<code>JetBrainsMono-Regular.woff2</code></p></li><li><p>在<code>G:\Blog\_config.butterfly.yml</code>中配置<code>font</code></p></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="attr">global-font-size:</span> <span class="string">&#x27;15px&#x27;</span></span><br><span class="line">  <span class="attr">code-font-size:</span> <span class="string">&#x27;14px&#x27;</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">myFont</span></span><br><span class="line">  <span class="attr">code-font-family:</span> <span class="string">CodeFont</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Font settings for the site title and site subtitle</span></span><br><span class="line"><span class="comment"># 左上角網站名字 主頁居中網站名字</span></span><br><span class="line"><span class="attr">blog_title_font:</span></span><br><span class="line">  <span class="attr">font_link:</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">myFont</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="4"><li>hexo三连</li></ol><hr><h2 id="直达底部按钮"><a href="#直达底部按钮" class="headerlink" title="直达底部按钮"></a>直达底部按钮</h2><p>效果：在页面右下角添加一个直达底部的按钮</p><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240912125648455.png" alt="image-20240912125648455"></p><ol><li>打开<code>G:\Blog\themes\butterfly\layout\includes\rightside.pug</code>，添加如下内容</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    button#go-up(type=&quot;button&quot; title=_p(&quot;rightside.back_to_top&quot;))</span><br><span class="line">      span.scroll-percent</span><br><span class="line">      i.fas.fa-arrow-up</span><br><span class="line"></span><br><span class="line">    //- &quot;直达底部&quot;按钮</span><br><span class="line">+    button#go-down(type=&quot;button&quot; title=&quot;直达底部&quot; onclick=&quot;btf.scrollToDest(document.body.scrollHeight, 500)&quot;)</span><br><span class="line">+      i.fas.fa-arrow-down</span><br></pre></td></tr></table></figure><hr><h2 id="宽屏适配"><a href="#宽屏适配" class="headerlink" title="宽屏适配"></a>宽屏适配</h2><p>效果：改变博客全局宽度和侧边栏宽度</p><p>夸张效果<br><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240912144212577.png" alt="image-20240912144212577"></p><p>当前效果（距离屏幕左右两边宽度明显变化）</p><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240912144302243.png" alt="image-20240912144302243"></p><ol><li>在<code>custom.css</code>中添加如下代码</li></ol><p></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 全局宽度 */</span></span><br><span class="line">.layout &#123;</span><br><span class="line">  max-width: <span class="number">1550</span>px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 侧边卡片栏宽度 */</span></span><br><span class="line">.aside-content &#123;</span><br><span class="line">  max-width: <span class="number">328</span>px;</span><br><span class="line">  min-width: <span class="number">300</span>px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 平板尺寸自适应(不启用侧边栏宽度限制) */</span></span><br><span class="line">@media <span class="function">screen <span class="title">and</span> (<span class="params">max-width: <span class="number">900</span>px</span>)</span> &#123;</span><br><span class="line">  .aside-content &#123;</span><br><span class="line">    max-width: none !important;</span><br><span class="line">    padding: <span class="number">0</span> <span class="number">5</span>px <span class="number">0</span> <span class="number">5</span>px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>重启项目，hexo三连</li></ol><h2 id="给卡片添加动画"><a href="#给卡片添加动画" class="headerlink" title="给卡片添加动画"></a>给卡片添加动画</h2><h4 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h4><p>给给类卡片添加出场动画，原来是打开页面就存在，现在有一个入场方式</p><h4 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h4><p> <a href="https://akilar.top/posts/abab51cf/">教程</a></p><h4 id="动画网站"><a href="#动画网站" class="headerlink" title="动画网站"></a>动画网站</h4><p>这个网站有很多动画，可以选自己喜欢的  <a href="https://animate.style/">动画网站</a></p><h4 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h4><ol><li>安装插件，</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-wowjs --save</span><br></pre></td></tr></table></figure><ol start="2"><li>在<code>G:\Blog\_config.butterfly.yml</code>配置文件添加如下内容</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 卡片动画效果</span></span><br><span class="line"><span class="attr">wowjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#控制动画开关。true是打开，false是关闭</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">8</span> <span class="comment">#过滤器优先级</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment">#移动端是否启用，默认移动端禁用</span></span><br><span class="line">  <span class="attr">animateitem:</span></span><br><span class="line">    <span class="comment"># 文章</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">recent-post-item</span> <span class="comment">#必填项，需要添加动画的元素的class</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInRight</span> <span class="comment">#必填项，需要添加的动画</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">1s</span> <span class="comment">#选填项，动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">600ms</span> <span class="comment">#选填项，动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">offset:</span> <span class="number">100</span> <span class="comment">#选填项，开始动画的距离（相对浏览器底部）</span></span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span> </span><br><span class="line">      <span class="comment"># 侧边栏</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">card-widget</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInLeft</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">1s</span> </span><br><span class="line">      <span class="attr">delay:</span> <span class="string">600ms</span></span><br><span class="line">      <span class="attr">offset:</span> <span class="number">100</span> </span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span> </span><br><span class="line">      <span class="comment"># 网站底部</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">footer-wrap</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInUp</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">1s</span> </span><br><span class="line">      <span class="attr">delay:</span> <span class="string">600ms</span> </span><br><span class="line">      <span class="attr">offset:</span> <span class="number">100</span> </span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span> </span><br><span class="line">      <span class="comment"># 标题栏    </span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">show</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__fadeInDown</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">1s</span> </span><br><span class="line">      <span class="attr">delay:</span> <span class="string">600ms</span> </span><br><span class="line">      <span class="attr">offset:</span> <span class="number">100</span> </span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span>       </span><br><span class="line">      <span class="comment"># 个人卡片    </span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">is-center</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInLeft</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">1s</span> </span><br><span class="line">      <span class="attr">delay:</span> <span class="string">600ms</span> </span><br><span class="line">      <span class="attr">offset:</span> <span class="number">100</span> </span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span>   </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">card-info-data</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInLeft</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">1s</span> </span><br><span class="line">      <span class="attr">delay:</span> <span class="string">600ms</span> </span><br><span class="line">      <span class="attr">offset:</span> <span class="number">100</span> </span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span>       </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">card-info-social-icons</span> </span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInLeft</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">1s</span> </span><br><span class="line">      <span class="attr">delay:</span> <span class="string">600ms</span> </span><br><span class="line">      <span class="attr">offset:</span> <span class="number">100</span> </span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">card-info-btn</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInLeft</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">1s</span> </span><br><span class="line">      <span class="attr">delay:</span> <span class="string">600ms</span> </span><br><span class="line">      <span class="attr">offset:</span> <span class="number">100</span> </span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span>                            </span><br><span class="line">  <span class="attr">animate_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css</span></span><br><span class="line">  <span class="attr">wow_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js</span></span><br><span class="line">  <span class="attr">wow_init_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js</span></span><br></pre></td></tr></table></figure><ol start="3"><li><p>打开<code>G:\Blog\themes\butterfly\layout\includes\widget\card_author.pug</code>文件夹，给<code>Follow Me</code>添加类名</p><p>因为插件<code>只能根据类名class添加动画，不支持根据id添加动画</code>，所以要给一些只有id没有class的容器添加class，在pug中可以通过这种方式为同一个元素同时指定 <code>id</code> 和 <code>class</code>，<code>#footer-wrap</code> 代表 <code>id=&quot;footer-wrap&quot;</code>，<code>.footer-wrap</code> 代表 <code>class=&quot;footer-wrap&quot;</code></p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    if theme.aside.card_author.button.enable</span><br><span class="line">+      a#card-info-btn.card-info-btn(href=theme.aside.card_author.button.link)</span><br><span class="line">        i(class=theme.aside.card_author.button.icon)</span><br><span class="line">        span=theme.aside.card_author.button.text</span><br></pre></td></tr></table></figure><ol start="4"><li>打开<code>G:\Blog\themes\butterfly\layout\includes\footer.pug</code>，给id为<code>footer.pug</code>的元素添加类名（第二行）</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//- #footer-wrap</span><br><span class="line">#footer-wrap.footer-wrap  </span><br><span class="line">  if theme.footer.owner.enable</span><br><span class="line">    - var now = new Date()</span><br><span class="line">    - var nowYear = now.getFullYear()</span><br><span class="line">    if theme.footer.owner.since &amp;&amp; theme.footer.owner.since != nowYear</span><br><span class="line">      .copyright!= `&amp;copy;$&#123;theme.footer.owner.since&#125; - $&#123;nowYear&#125; By $&#123;config.author&#125;`</span><br><span class="line">    else</span><br><span class="line">      .copyright!= `&amp;copy;$&#123;nowYear&#125; By $&#123;config.author&#125;`</span><br><span class="line">  if theme.footer.copyright</span><br><span class="line">    .framework-info</span><br><span class="line">      span= _p(&#x27;footer.framework&#x27;) + &#x27; &#x27;</span><br><span class="line">      a(href=&#x27;https://hexo.io&#x27;)= &#x27;Hexo&#x27;</span><br><span class="line">      span.footer-separator |</span><br><span class="line">      span= _p(&#x27;footer.theme&#x27;) + &#x27; &#x27;</span><br><span class="line">      a(href=&#x27;https://github.com/jerryc127/hexo-theme-butterfly&#x27;)= &#x27;Butterfly&#x27;</span><br><span class="line">  if theme.footer.custom_text</span><br><span class="line">    .footer_custom_text!=`$&#123;theme.footer.custom_text&#125;`</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="参数释义"><a href="#参数释义" class="headerlink" title="参数释义"></a>参数释义</h4><table><thead><tr><th>参数</th><th>备选值</th><th>释义</th></tr></thead><tbody><tr><td>enable</td><td>true&#x2F;false</td><td>【必选】控制开关</td></tr><tr><td>priority</td><td>number</td><td>【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td></tr><tr><td>mobile</td><td>true&#x2F;false</td><td>控制移动端是否启用，默认移动端禁用</td></tr><tr><td>animateitem.class</td><td>class</td><td>【可选】添加动画类名，只支持给class添加</td></tr><tr><td>animateitem.style</td><td>text</td><td>【可选】动画样式，具体类型参考<a href="https://animate.style/">animate.css</a></td></tr><tr><td>animateitem.duration</td><td>time,单位为s或ms</td><td>【可选】动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</td></tr><tr><td>animateitem.delay</td><td>time,单位为s或ms</td><td>【可选】动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</td></tr><tr><td>animateitem.offset</td><td>number,单位为px</td><td>【可选】开始动画的距离（相对浏览器底部）。</td></tr><tr><td>animateitem.iteration</td><td>number,单位为s或ms</td><td>【可选】动画重复的次数</td></tr><tr><td>animate_css</td><td>URL</td><td>【可选】animate.css的CDN链接,默认为<code>https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css</code></td></tr><tr><td>wow_js</td><td>URL</td><td>【可选】wow.min.js的CDN链接,默认为<code>https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js</code></td></tr><tr><td>wow_init_js</td><td>URL</td><td>【可选】wow_init.js的CDN链接,默认为<code>https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js</code></td></tr></tbody></table><h2 id="hexo博客如何迁移到新电脑"><a href="#hexo博客如何迁移到新电脑" class="headerlink" title="hexo博客如何迁移到新电脑"></a>hexo博客如何迁移到新电脑</h2><p><strong>参考教程</strong>  <a href="https://www.fomal.cc/posts/d1927166.html">Hexo博客如何迁移到新电脑</a></p><p>+++</p><h2 id="Vue-Element样式弹窗"><a href="#Vue-Element样式弹窗" class="headerlink" title="Vue+Element样式弹窗"></a>Vue+Element样式弹窗</h2><p>效果：<img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240912170352025.png" alt="image-20240912170352025"></p><ol><li>在<code>G:\Blog\_config.butterfly.yml</code>引入<code>Vue</code>和<code>Element</code>相关依赖，<code>未下载js文件到本地版</code></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 未下载js文件到本地</span><br><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">+    - &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css&quot;&gt; # 引入组件库(f12)</span><br><span class="line">  bottom:    </span><br><span class="line">+    - &lt;script async src=&quot;https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js&quot;&gt;&lt;/script&gt; # 引入VUE(f12)</span><br><span class="line">+    - &lt;script async src=&quot;https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js&quot;&gt;&lt;/script&gt; # 引入ElementUI(f12)</span><br></pre></td></tr></table></figure><p><code>已下载文件到本地</code>并将css文件和js文件分别放入<code>/css</code>和<code>/js</code>文件夹中</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    # 引入组件库(f12) https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css</span><br><span class="line">    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/index.css&quot;&gt; </span><br><span class="line">    # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line">  bottom:</span><br><span class="line">    # 引入VUE(F12)  https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js</span><br><span class="line">+    - &lt;script async src=&quot;/js/vue.min.js&quot;&gt;&lt;/script&gt; </span><br><span class="line">    # 引入ElementUI(f12) https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js</span><br><span class="line">+    - &lt;script async src=&quot;/js/index.js&quot;&gt;&lt;/script&gt; </span><br><span class="line">+    - &lt;script async src=&quot;/js/copy.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><ol start="2"><li><p>新建js文件<code>G:\Blog\source\js\copy.js</code>，写入如下内容,仅在复制和打开F12时弹出提醒</p><p>在想要弹出弹窗的js代码中加入 <code>new Vue(&#123;&#125;)</code>即可触发弹窗：</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;copy&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.$notify(&#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;复制成功&quot;</span>,</span><br><span class="line">        <span class="attr">message</span>: <span class="string">&quot;转载请遵守CC协议&quot;</span>,</span><br><span class="line">        <span class="attr">position</span>: <span class="string">&quot;top-left&quot;</span>,</span><br><span class="line">        <span class="attr">offset</span>: <span class="number">50</span>,</span><br><span class="line">        <span class="attr">showClose</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">        <span class="attr">duration</span>: <span class="number">4000</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;keydown&quot;</span>, <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (event.<span class="property">key</span> === <span class="string">&quot;F12&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">      <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.$notify(&#123;</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&quot;逮住😜&quot;</span>,</span><br><span class="line">          <span class="attr">message</span>: <span class="string">&quot;小兄弟，扒源请遵循GPL协议！&quot;</span>,</span><br><span class="line">          <span class="attr">position</span>: <span class="string">&quot;top-left&quot;</span>,</span><br><span class="line">          <span class="attr">offset</span>: <span class="number">50</span>,</span><br><span class="line">          <span class="attr">showClose</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="attr">type</span>: <span class="string">&quot;warning&quot;</span>,</span><br><span class="line">          <span class="attr">duration</span>: <span class="number">4000</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="参数释义-1"><a href="#参数释义-1" class="headerlink" title="参数释义"></a>参数释义</h4><table><thead><tr><th>参数</th><th>释义</th></tr></thead><tbody><tr><td>notify</td><td>弹窗类型，可以替换为<code>message</code>（信息提示）和<code>confirm</code>（二次确认提示）</td></tr><tr><td>title</td><td>弹窗标题，可以改为自定义标题</td></tr><tr><td>message</td><td>弹窗信息，可以改为自定义内容</td></tr><tr><td>position</td><td>弹出位置，bottom、top和left、right两两组合</td></tr><tr><td>offset</td><td>偏移量，简单可以理解为与边界的距离</td></tr><tr><td>showClose</td><td>是否显示关闭按钮</td></tr><tr><td>type</td><td>提示类型，可选success&#x2F;warning&#x2F;info&#x2F;error等</td></tr><tr><td>duration</td><td>停留时间，弹出停留至消失的时间，单位ms</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
          <category> hexo笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 美化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo美化(一)</title>
      <link href="/2024/09/07/hexo%E7%BE%8E%E5%8C%96-%E4%B8%80/"/>
      <url>/2024/09/07/hexo%E7%BE%8E%E5%8C%96-%E4%B8%80/</url>
      
        <content type="html"><![CDATA[<h2 id="yml配置文件注意事项"><a href="#yml配置文件注意事项" class="headerlink" title="yml配置文件注意事项"></a>yml配置文件注意事项</h2><p>YAML 文件格式对缩进和语法要求比较严格，类似于 Python 的缩进规则。反正最好在**”-“<strong>和</strong>“:”**之后添加一个空格再输入值</p><p><strong>YAML 使用空格进行缩进，不允许使用制表符（tab）</strong>，<strong>通常推荐使用两个空格进行缩进</strong></p><ul><li>键和值之间需要用冒号和一个空格分隔 –&gt; key: value</li><li>列表项需要用破折号（-）和一个空格前缀</li></ul><hr><h2 id="一图流"><a href="#一图流" class="headerlink" title="一图流"></a>一图流</h2><p><strong>效果</strong>：取代butterfly的纯色背景，把网站背景换成自己喜欢的图片</p><ol><li>首先在<em>“G:\Blog\source”</em>下新建一个文件夹<em>“G:\Blog\source\css”</em>，新建一个<em>“custom.css”</em>文件，写入如下css代码：</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 页脚与头图透明 */</span></span><br><span class="line"><span class="selector-id">#footer</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-header</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 白天模式遮罩透明 */</span></span><br><span class="line"><span class="selector-id">#footer</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-header</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 夜间模式遮罩透明 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#footer</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#page-header</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>在<em>“G:\Blog_config.butterfly.yml”</em>配置文件的<em>“inject”</em>配置项的*”head”<em>子项添加如下代码，引入刚刚创建的custom.css文件（采用了相对路径的写法，没用绝对路径），*<em>注意缩进！</em></em></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom.css&quot;</span> <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>在主题配置文件<em>“G:\Blog_config.butterfly.yml”</em>的<em>“index_img”</em>和<em>“footer_bg”</em>配置项取消头图与页脚图的加载项避免冗余加载</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The banner image of home page</span></span><br><span class="line"><span class="attr">index_img:</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># Footer Background</span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ol start="4"><li>配置网站背景图，在<em>“G:\Blog_config.butterfly.yml”</em>的<em>“background”</em>配置项配置背景图，<strong>注意格式为url(https:&#x2F;&#x2F;……)</strong>,而不是直接输入网站，一定要有<strong>url(…)<strong>，最好注意一下图片格式，图片格式可能影响最终显示质量，</strong>尤其是 JPEG 格式在高压缩时可能会失真</strong>，最好不用这种格式</li></ol><p><code>background: url(https://......)</code></p><hr><h2 id="星空背景和流星特效"><a href="#星空背景和流星特效" class="headerlink" title="星空背景和流星特效"></a>星空背景和流星特效</h2><p>效果：夜间时网站背景会有流星滑过和星光特效，<strong>只在夜间模式下有效</strong>   <strong>白天时不会显现</strong></p><ol><li>在<em>”G:\Blog\source\js“</em>下新建<em>”universe.js“</em>，输入如下js代码，<strong>不需要调整代码缩进</strong>，直接复制进去就行</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">dark</span>(<span class="params"></span>) &#123;<span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span>=<span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span>||<span class="variable language_">window</span>.<span class="property">mozRequestAnimationFrame</span>||<span class="variable language_">window</span>.<span class="property">webkitRequestAnimationFrame</span>||<span class="variable language_">window</span>.<span class="property">msRequestAnimationFrame</span>;<span class="keyword">var</span> n,e,i,h,t=<span class="number">.05</span>,s=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;universe&quot;</span>),o=!<span class="number">0</span>,a=<span class="string">&quot;180,184,240&quot;</span>,r=<span class="string">&quot;226,225,142&quot;</span>,d=<span class="string">&quot;226,225,224&quot;</span>,c=[];<span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>)&#123;n=<span class="variable language_">window</span>.<span class="property">innerWidth</span>,e=<span class="variable language_">window</span>.<span class="property">innerHeight</span>,i=<span class="number">.216</span>*n,s.<span class="title function_">setAttribute</span>(<span class="string">&quot;width&quot;</span>,n),s.<span class="title function_">setAttribute</span>(<span class="string">&quot;height&quot;</span>,e)&#125;<span class="keyword">function</span> <span class="title function_">u</span>(<span class="params"></span>)&#123;h.<span class="title function_">clearRect</span>(<span class="number">0</span>,<span class="number">0</span>,n,e);<span class="keyword">for</span>(<span class="keyword">var</span> t=c.<span class="property">length</span>,i=<span class="number">0</span>;i&lt;t;i++)&#123;<span class="keyword">var</span> s=c[i];s.<span class="title function_">move</span>(),s.<span class="title function_">fadeIn</span>(),s.<span class="title function_">fadeOut</span>(),s.<span class="title function_">draw</span>()&#125;&#125;<span class="keyword">function</span> <span class="title function_">y</span>(<span class="params"></span>)&#123;<span class="variable language_">this</span>.<span class="property">reset</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="variable language_">this</span>.<span class="property">giant</span>=<span class="title function_">m</span>(<span class="number">3</span>),<span class="variable language_">this</span>.<span class="property">comet</span>=!<span class="variable language_">this</span>.<span class="property">giant</span>&amp;&amp;!o&amp;&amp;<span class="title function_">m</span>(<span class="number">10</span>),<span class="variable language_">this</span>.<span class="property">x</span>=<span class="title function_">l</span>(<span class="number">0</span>,n-<span class="number">10</span>),<span class="variable language_">this</span>.<span class="property">y</span>=<span class="title function_">l</span>(<span class="number">0</span>,e),<span class="variable language_">this</span>.<span class="property">r</span>=<span class="title function_">l</span>(<span class="number">1.1</span>,<span class="number">2.6</span>),<span class="variable language_">this</span>.<span class="property">dx</span>=<span class="title function_">l</span>(t,<span class="number">6</span>*t)+(<span class="variable language_">this</span>.<span class="property">comet</span>+<span class="number">1</span>-<span class="number">1</span>)*t*<span class="title function_">l</span>(<span class="number">50</span>,<span class="number">120</span>)+<span class="number">2</span>*t,<span class="variable language_">this</span>.<span class="property">dy</span>=-<span class="title function_">l</span>(t,<span class="number">6</span>*t)-(<span class="variable language_">this</span>.<span class="property">comet</span>+<span class="number">1</span>-<span class="number">1</span>)*t*<span class="title function_">l</span>(<span class="number">50</span>,<span class="number">120</span>),<span class="variable language_">this</span>.<span class="property">fadingOut</span>=<span class="literal">null</span>,<span class="variable language_">this</span>.<span class="property">fadingIn</span>=!<span class="number">0</span>,<span class="variable language_">this</span>.<span class="property">opacity</span>=<span class="number">0</span>,<span class="variable language_">this</span>.<span class="property">opacityTresh</span>=<span class="title function_">l</span>(<span class="number">.2</span>,<span class="number">1</span>-<span class="number">.4</span>*(<span class="variable language_">this</span>.<span class="property">comet</span>+<span class="number">1</span>-<span class="number">1</span>)),<span class="variable language_">this</span>.<span class="property">do</span>=<span class="title function_">l</span>(<span class="number">5e-4</span>,<span class="number">.002</span>)+<span class="number">.001</span>*(<span class="variable language_">this</span>.<span class="property">comet</span>+<span class="number">1</span>-<span class="number">1</span>)&#125;,<span class="variable language_">this</span>.<span class="property">fadeIn</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="variable language_">this</span>.<span class="property">fadingIn</span>&amp;&amp;(<span class="variable language_">this</span>.<span class="property">fadingIn</span>=!(<span class="variable language_">this</span>.<span class="property">opacity</span>&gt;<span class="variable language_">this</span>.<span class="property">opacityTresh</span>),<span class="variable language_">this</span>.<span class="property">opacity</span>+=<span class="variable language_">this</span>.<span class="property">do</span>)&#125;,<span class="variable language_">this</span>.<span class="property">fadeOut</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="variable language_">this</span>.<span class="property">fadingOut</span>&amp;&amp;(<span class="variable language_">this</span>.<span class="property">fadingOut</span>=!(<span class="variable language_">this</span>.<span class="property">opacity</span>&lt;<span class="number">0</span>),<span class="variable language_">this</span>.<span class="property">opacity</span>-=<span class="variable language_">this</span>.<span class="property">do</span>/<span class="number">2</span>,(<span class="variable language_">this</span>.<span class="property">x</span>&gt;n||<span class="variable language_">this</span>.<span class="property">y</span>&lt;<span class="number">0</span>)&amp;&amp;(<span class="variable language_">this</span>.<span class="property">fadingOut</span>=!<span class="number">1</span>,<span class="variable language_">this</span>.<span class="title function_">reset</span>()))&#125;,<span class="variable language_">this</span>.<span class="property">draw</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="keyword">if</span>(h.<span class="title function_">beginPath</span>(),<span class="variable language_">this</span>.<span class="property">giant</span>)h.<span class="property">fillStyle</span>=<span class="string">&quot;rgba(&quot;</span>+a+<span class="string">&quot;,&quot;</span>+<span class="variable language_">this</span>.<span class="property">opacity</span>+<span class="string">&quot;)&quot;</span>,h.<span class="title function_">arc</span>(<span class="variable language_">this</span>.<span class="property">x</span>,<span class="variable language_">this</span>.<span class="property">y</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">2</span>*<span class="title class_">Math</span>.<span class="property">PI</span>,!<span class="number">1</span>);<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">comet</span>)&#123;h.<span class="property">fillStyle</span>=<span class="string">&quot;rgba(&quot;</span>+d+<span class="string">&quot;,&quot;</span>+<span class="variable language_">this</span>.<span class="property">opacity</span>+<span class="string">&quot;)&quot;</span>,h.<span class="title function_">arc</span>(<span class="variable language_">this</span>.<span class="property">x</span>,<span class="variable language_">this</span>.<span class="property">y</span>,<span class="number">1.5</span>,<span class="number">0</span>,<span class="number">2</span>*<span class="title class_">Math</span>.<span class="property">PI</span>,!<span class="number">1</span>);<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;<span class="number">30</span>;t++)h.<span class="property">fillStyle</span>=<span class="string">&quot;rgba(&quot;</span>+d+<span class="string">&quot;,&quot;</span>+(<span class="variable language_">this</span>.<span class="property">opacity</span>-<span class="variable language_">this</span>.<span class="property">opacity</span>/<span class="number">20</span>*t)+<span class="string">&quot;)&quot;</span>,h.<span class="title function_">rect</span>(<span class="variable language_">this</span>.<span class="property">x</span>-<span class="variable language_">this</span>.<span class="property">dx</span>/<span class="number">4</span>*t,<span class="variable language_">this</span>.<span class="property">y</span>-<span class="variable language_">this</span>.<span class="property">dy</span>/<span class="number">4</span>*t-<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>),h.<span class="title function_">fill</span>()&#125;<span class="keyword">else</span> h.<span class="property">fillStyle</span>=<span class="string">&quot;rgba(&quot;</span>+r+<span class="string">&quot;,&quot;</span>+<span class="variable language_">this</span>.<span class="property">opacity</span>+<span class="string">&quot;)&quot;</span>,h.<span class="title function_">rect</span>(<span class="variable language_">this</span>.<span class="property">x</span>,<span class="variable language_">this</span>.<span class="property">y</span>,<span class="variable language_">this</span>.<span class="property">r</span>,<span class="variable language_">this</span>.<span class="property">r</span>);h.<span class="title function_">closePath</span>(),h.<span class="title function_">fill</span>()&#125;,<span class="variable language_">this</span>.<span class="property">move</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="variable language_">this</span>.<span class="property">x</span>+=<span class="variable language_">this</span>.<span class="property">dx</span>,<span class="variable language_">this</span>.<span class="property">y</span>+=<span class="variable language_">this</span>.<span class="property">dy</span>,!<span class="number">1</span>===<span class="variable language_">this</span>.<span class="property">fadingOut</span>&amp;&amp;<span class="variable language_">this</span>.<span class="title function_">reset</span>(),(<span class="variable language_">this</span>.<span class="property">x</span>&gt;n-n/<span class="number">4</span>||<span class="variable language_">this</span>.<span class="property">y</span>&lt;<span class="number">0</span>)&amp;&amp;(<span class="variable language_">this</span>.<span class="property">fadingOut</span>=!<span class="number">0</span>)&#125;,<span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;o=!<span class="number">1</span>&#125;,<span class="number">50</span>)&#125;<span class="keyword">function</span> <span class="title function_">m</span>(<span class="params">t</span>)&#123;<span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="number">1e3</span>*<span class="title class_">Math</span>.<span class="title function_">random</span>())+<span class="number">1</span>&lt;<span class="number">10</span>*t&#125;<span class="keyword">function</span> <span class="title function_">l</span>(<span class="params">t,i</span>)&#123;<span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>()*(i-t)+t&#125;<span class="title function_">f</span>(),<span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>,f,!<span class="number">1</span>),<span class="keyword">function</span>(<span class="params"></span>)&#123;h=s.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>);<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;i;t++)c[t]=<span class="keyword">new</span> y,c[t].<span class="title function_">reset</span>();<span class="title function_">u</span>()&#125;(),<span class="keyword">function</span> <span class="title function_">t</span>(<span class="params"></span>)&#123;<span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;html&#x27;</span>)[<span class="number">0</span>].<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>)==<span class="string">&#x27;dark&#x27;</span>&amp;&amp;<span class="title function_">u</span>(),<span class="variable language_">window</span>.<span class="title function_">requestAnimationFrame</span>(t)&#125;()&#125;;</span><br><span class="line"><span class="title function_">dark</span>()</span><br></pre></td></tr></table></figure><ol start="2"><li>在<em>”G:\Blog\source\css“</em>目录下新建<em>”universe.css“</em>，输入如下代码：</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 背景宇宙星光  */</span></span><br><span class="line"><span class="selector-id">#universe</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">outline</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">  <span class="comment">/* 这个是调置顶的优先级的，-1在文章页下面，背景上面，个人推荐这种 */</span></span><br><span class="line">  <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>在主题配置文件<em>“_config.butterfly.yml”</em>的<em>“inject”</em>配置项的<em>”bottom“</em>和<em>”head“</em>中分别填入如下内容，<strong>注意缩进，两个空格</strong></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;canvas</span> <span class="string">id=&quot;universe&quot;&gt;&lt;/canvas&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">defer</span> <span class="string">src=&quot;/js/universe.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">   </span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/universe.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="个人卡片渐变色"><a href="#个人卡片渐变色" class="headerlink" title="个人卡片渐变色"></a>个人卡片渐变色</h2><p>效果：改变个人卡片背景色，之前是纯白色的，改成渐变色</p><ol><li>在<em>”G:\Blog\source\css\custom.css“</em>中添加如下代码</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 侧边栏个人信息卡片动态渐变色 */</span></span><br><span class="line"><span class="selector-id">#aside-content</span> &gt; <span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(</span><br><span class="line">    -<span class="number">45deg</span>,</span><br><span class="line">    <span class="number">#e8d8b9</span>,</span><br><span class="line">    <span class="number">#eccec5</span>,</span><br><span class="line">    <span class="number">#a3e9eb</span>,</span><br><span class="line">    <span class="number">#bdbdf0</span>,</span><br><span class="line">    <span class="number">#eec1ea</span></span><br><span class="line">  );</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgb</span>(<span class="number">66</span>, <span class="number">68</span>, <span class="number">68</span>);</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">400%</span> <span class="number">400%</span>;</span><br><span class="line">  -webkit-<span class="attribute">animation</span>: Gradient <span class="number">10s</span> ease infinite;</span><br><span class="line">  -moz-<span class="attribute">animation</span>: Gradient <span class="number">10s</span> ease infinite;</span><br><span class="line">  <span class="attribute">animation</span>: Gradient <span class="number">10s</span> ease infinite <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> Gradient &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-moz-keyframes</span> Gradient &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> Gradient &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 黑夜模式适配 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#aside-content</span> &gt; <span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#191919ee</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 个人信息Follow me按钮 */</span></span><br><span class="line"><span class="selector-id">#aside-content</span> &gt; <span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> &gt; <span class="selector-id">#card-info-btn</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#3eb8be</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>因为是在已有的*”custom.css”<em>文件中添加代码的，并且这个文件已经在<strong>”一图流“</strong>中引用过了，所以不需要在</em>”G:\Blog_config.butterfly.yml“*中重新引入</li></ol><hr><h2 id="黑夜霓虹灯"><a href="#黑夜霓虹灯" class="headerlink" title="黑夜霓虹灯"></a>黑夜霓虹灯</h2><p>效果：给网页中间的标题和菜单栏字体添加霓虹灯效果，<strong>只在夜间模式下生效</strong>，霓虹灯颜色可以自己看代码修改</p><ol><li>在自定义的<em>”G:\Blog\source\css\custom.css“</em>中添加如下css代码,实现原理是关键帧线性插值，然后一直循环，这里默认是左上角标题、中间标题和副标题，还有文章页头的标题和信息有循环霓虹灯</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 日间模式不生效 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#site-name</span>,</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#site-title</span>,</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#site-subtitle</span>,</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#post-info</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 夜间模式生效 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#site-name</span>,</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#site-title</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: light_15px <span class="number">10s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#site-subtitle</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: light_10px <span class="number">10s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#post-info</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: light_5px <span class="number">10s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 关键帧描述 */</span></span><br><span class="line"><span class="keyword">@keyframes</span> light_15px &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">12.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#11ee5e</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">25%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f14747</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">37.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1a247</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1ee47</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#b347f1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">62.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#002afa</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">75%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#ed709b</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">87.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#39c5bb</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> light_10px &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">12.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#11ee5e</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">25%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f14747</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">37.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1a247</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1ee47</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#b347f1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">62.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#002afa</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">75%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#ed709b</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">87.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#39c5bb</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> light_5px &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">12.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#11ee5e</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">25%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f14747</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">37.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1a247</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1ee47</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#b347f1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">62.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#002afa</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">75%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#ed709b</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">87.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#39c5bb</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="菜单栏魔改"><a href="#菜单栏魔改" class="headerlink" title="菜单栏魔改"></a>菜单栏魔改</h2><p>效果：菜单栏居中、子菜单横向显示(默认情况下如果菜单栏存在子菜单会以列的方式显示)</p><p><strong>纵向显示菜单栏：</strong></p><ul><li>菜单栏<ul><li>子菜单栏1</li><li>子菜单栏2</li></ul></li></ul><p>其中子菜单横向显示要根据自己的实际情况来改，例如某个菜单的第2个选项中有子菜单，那就要加一项调节第2个选项中的子菜单，这个具体调节多少要以情况为准，可以自己慢慢调到中间</p><ol><li>在*”G:\Blog\source\css\custom.css”*中添加如下代码：</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 一级菜单居中 */</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">width</span>: fit-content <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 子菜单横向展示 */</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.menus_item_child</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 这里的2是代表导航栏的第2个元素，即有子菜单的元素，可以按自己需求修改 */</span></span><br><span class="line"><span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) <span class="selector-class">.menus_item_child</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">125px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li><p>此时手机端子菜单默认是展开显示的(如果存在子菜单)，如果想要改为点击后才展开，只需要在主题配置文件<em>”_config.butterfly.yml“</em>中列表对应的地方加一个<code>hide</code>即可，</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># &quot;列表&quot;存在子菜单栏--&gt;&quot;音乐&quot;和&quot;电影&quot;,改为点击后展开，添加一个hide</span><br><span class="line">列表||fas fa-list || hide:</span><br><span class="line">  音乐: /music/ || fas fa-music</span><br><span class="line">  电影: /movies/ || fas fa-video</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
          <category> hexo笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 美化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo-butterfly添加侧边栏电子钟</title>
      <link href="/2024/09/07/Hexo-butterfly%E6%B7%BB%E5%8A%A0%E4%BE%A7%E8%BE%B9%E6%A0%8F%E7%94%B5%E5%AD%90%E9%92%9F/"/>
      <url>/2024/09/07/Hexo-butterfly%E6%B7%BB%E5%8A%A0%E4%BE%A7%E8%BE%B9%E6%A0%8F%E7%94%B5%E5%AD%90%E9%92%9F/</url>
      
        <content type="html"><![CDATA[<h3 id="电子钟效果"><a href="#电子钟效果" class="headerlink" title="电子钟效果"></a>电子钟效果</h3><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240907160812348.png" alt="image-20240907160812348"></p><h4 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h4><p>在南宁研究院用的是校园网，校园网网络是先回到花江校区再通过教育网（或者学校合作运营商）出去的，所以连接校园网后通过天气API和高德地图API获取的地域信息和天气信息实际上是桂林的</p><h3 id="电子钟实现"><a href="#电子钟实现" class="headerlink" title="电子钟实现"></a>电子钟实现</h3><h4 id="1-获取和风天气API"><a href="#1-获取和风天气API" class="headerlink" title="1.获取和风天气API"></a>1.获取和风天气API</h4><p>和风天气API：<a href="https://dev.qweather.com/">和风天气开发服务</a>   <a href="https://dev.qweather.com/">https://dev.qweather.com/</a></p><p>登录之后进入“开发服务控制台”，在“项目管理”处“创建项目”，选择“免费订阅”方案，适用平台选择“Web API”,<strong>自定义“key的名称”，但“key的名称”并不是最终获取的token</strong>，只是说明这个key用来干嘛的，后续的实际token是一个字符串</p><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240907161654653.png" alt="image-20240907161654653"></p><h4 id="2-获取高德地图API"><a href="#2-获取高德地图API" class="headerlink" title="2.获取高德地图API"></a>2.获取高德地图API</h4><p>高德地图API: <a href="https://console.amap.com/">高德开放平台</a>    <a href="https://console.amap.com/">https://console.amap.com/</a></p><p>登陆之后进入“控制台”，在“应用管理” –&gt; “我的应用” —&gt; “创建新应用”, “应用名称”随便，”应用类型”选其他，<strong>服务平台一定要选”Web服务”，不能选“Web端(JS API)”</strong>,创建完成后获得key</p><h4 id="3-API次数限制"><a href="#3-API次数限制" class="headerlink" title="3.API次数限制"></a>3.API次数限制</h4><p><strong>和风天气次数限制：</strong> <strong>1000次&#x2F;天</strong></p><p>检测和风天气API是否可用：复制并粘贴下列链接到浏览器中，看看返回了哪些内容</p><p><em><a href="https://devapi.qweather.com/v7/weather/3d?location=101010100&key=%E8%BF%99%E9%87%8C%E6%9B%BF%E6%8D%A2%E6%88%90%E4%BD%A0%E7%9A%84key">https://devapi.qweather.com/v7/weather/3d?location=101010100&amp;key=这里替换成你的key</a></em></p><p><strong>高德地图次数限制</strong>：<strong>5000次&#x2F;日（免费额度），并发量上限30次&#x2F;秒</strong></p><h3 id="下载插件版侧边栏电子钟"><a href="#下载插件版侧边栏电子钟" class="headerlink" title="下载插件版侧边栏电子钟"></a>下载插件版侧边栏电子钟</h3><p>anzhiyu版电子钟插件下载：在网站根目录下打开<em>Git Base Here</em>进行下载，我的目录是<em>G:\Blog</em></p><p><code>npm install hexo-butterfly-clock-anzhiyu --save</code></p><p>如果有安装其他版本的插件版侧栏电子钟要先删掉，例如</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 卸载其他电子钟</span><br><span class="line">npm uninstall hexo-butterfly-clock</span><br></pre></td></tr></table></figure><h3 id="在-config-butterfly-yml添加配置信息"><a href="#在-config-butterfly-yml添加配置信息" class="headerlink" title="在_config.butterfly.yml添加配置信息"></a>在_config.butterfly.yml添加配置信息</h3><p>这两项是根据上面获取的API自行补充的</p><ul><li>qweather_key: # 和风天气key</li><li>gaud_map_key: # 高得地图web服务key</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># electric_clock</span><br><span class="line"># see https://blog.anheyu.com/posts/fc18.html</span><br><span class="line">electric_clock:</span><br><span class="line">  enable: true # 开关</span><br><span class="line">  priority: 5 #过滤器优先权</span><br><span class="line">  enable_page: all # 应用页面</span><br><span class="line">  exclude:</span><br><span class="line">  # - /posts/</span><br><span class="line">  # - /about/</span><br><span class="line">  layout: # 挂载容器类型</span><br><span class="line">    type: class</span><br><span class="line">    name: sticky_layout</span><br><span class="line">    index: 0</span><br><span class="line">  loading: https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif #加载动画自定义</span><br><span class="line">  clock_css: https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css</span><br><span class="line">  clock_js: https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js</span><br><span class="line">  ip_api: https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0</span><br><span class="line">  qweather_key: # 和风天气key</span><br><span class="line">  gaud_map_key: # 高得地图web服务key</span><br><span class="line">  default_rectangle: false # 开启后将一直显示rectangle位置的天气，否则将获取访问者的地理位置与天气</span><br><span class="line">  rectangle: 112.982279,28.19409 # 获取访问者位置失败时会显示该位置的天气，同时该位置为开启default_rectangle后的位置</span><br></pre></td></tr></table></figure><h4 id="配置文件参数释义"><a href="#配置文件参数释义" class="headerlink" title="配置文件参数释义"></a>配置文件参数释义</h4><table><thead><tr><th>参数</th><th>备选值</th><th>类型</th></tr></thead><tbody><tr><td>priority</td><td>number</td><td>【可选】过滤器优先级，数值越小，执行越早，默认为 10，选填</td></tr><tr><td>enable</td><td>true&#x2F;false</td><td>【必选】控制开关</td></tr><tr><td>enable_page</td><td>path&#x2F;all</td><td>【可选】填写想要应用的页面的相对路径（即路由地址）,如根目录就填’&#x2F;‘,分类页面就填’&#x2F;categories&#x2F;‘。若要应用于所有页面，就填’all’，默认为 all</td></tr><tr><td>exclude</td><td>path</td><td>【可选】填写想要屏蔽的页面，可以多个。写法见示例。原理是将屏蔽项的内容逐个放到当前路径去匹配，若当前路径包含任一屏蔽项，则不会挂载。</td></tr><tr><td>layout.type</td><td>id&#x2F;class</td><td>【可选】挂载容器类型，填写 id 或 class，不填则默认为 id</td></tr><tr><td>layout.name</td><td>text</td><td>【必选】挂载容器名称</td></tr><tr><td>layout.index</td><td>0 和正整数</td><td>【可选】前提是 layout.type 为 class，因为同一页面可能有多个 class，此项用来确认究竟排在第几个顺位</td></tr><tr><td>loading</td><td>URL</td><td>【可选】电子钟加载动画的图片</td></tr><tr><td>clock_css</td><td>URL</td><td>【可选】电子钟样式 CDN 资源</td></tr><tr><td>clock_js</td><td>URL</td><td>【可选】电子钟执行脚本 CDN 资源</td></tr><tr><td>ip_api</td><td>URL</td><td>【可选】获取时钟 IP 的 API</td></tr><tr><td>qweather_key</td><td>text</td><td>【可选】和风天气 key</td></tr><tr><td>gaud_map_key</td><td>text</td><td>【可选】高得地图 web 服务 key</td></tr></tbody></table><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://blog.anheyu.com/posts/fc18.html">http://blog.anheyu.com/posts/fc18.html</a></p><hr><h2 id="修改-2024年9月11日"><a href="#修改-2024年9月11日" class="headerlink" title="修改(2024年9月11日)"></a>修改(2024年9月11日)</h2><p>未修改前电子钟的位置处于页面下方，不方便看时间，于是把它挪到公告栏下面  处在更上方的位置方便随时查看时间</p><h3 id="原本样式"><a href="#原本样式" class="headerlink" title="原本样式"></a>原本样式</h3><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240911135042943.png" alt="image-20240911135042943"></p><h3 id="修改后样式"><a href="#修改后样式" class="headerlink" title="修改后样式"></a>修改后样式</h3><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240911135116048.png" alt="image-20240911135116048"></p><h3 id="修改步骤"><a href="#修改步骤" class="headerlink" title="修改步骤"></a>修改步骤</h3><ol><li>新建<code>G:\Blog\source\css\hexo_electric_clock.css</code>文件，写入如下代码</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#hexo_electric_clock</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="number">#c0f2e3</span>, <span class="number">#dbe1e9</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="comment">/* padding: 1px; */</span></span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">4px</span> <span class="number">8px</span> <span class="built_in">rgba</span>(<span class="number">96</span>, <span class="number">91</span>, <span class="number">91</span>, <span class="number">0.5</span>);</span><br><span class="line">        <span class="comment">/* 水平偏移量 垂直偏移量 模糊半径 阴影颜色 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#hexo_electric_clock</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#212121</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>打开<code>G:\Blog\themes\butterfly\layout\includes\widget\card_announcement.pug</code>，添加电子钟的内容</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">      span= _p(&#x27;aside.card_announcement&#x27;)</span><br><span class="line">    .announcement_content!= theme.aside.card_announcement.content</span><br><span class="line">    //- 访客欢迎信息</span><br><span class="line">    #welcome-info</span><br><span class="line">    //- 电子钟</span><br><span class="line">+    #hexo_electric_clock</span><br></pre></td></tr></table></figure><ol start="3"><li>打开<code>G:\Blog\_config.butterfly.yml</code>，引用电子钟css样式</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/custom.css&quot; media=&quot;defer&quot; onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span><br><span class="line">    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/universe.css&quot;&gt;</span><br><span class="line">    - &lt;span id=&quot;fps&quot;&gt;&lt;/span&gt; # 帧率检测</span><br><span class="line">+    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/hexo_electric_clock.css&quot;&gt;</span><br></pre></td></tr></table></figure><ol start="4"><li>在<code>G:\Blog\_config.butterfly.yml</code>找到<code>electric_clock</code>配置项，更新内容如下</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">electric_clock:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">  <span class="comment"># - /posts/</span></span><br><span class="line">  <span class="comment"># - /about/</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line"><span class="string">+</span>    <span class="attr">type:</span> <span class="string">class</span></span><br><span class="line"><span class="string">+</span>    <span class="attr">name:</span> <span class="string">card-widget</span> <span class="string">card-announcement</span> <span class="comment"># sticky_layout</span></span><br><span class="line"><span class="string">+</span>    <span class="attr">index:</span> <span class="number">2</span></span><br></pre></td></tr></table></figure><h3 id="恢复"><a href="#恢复" class="headerlink" title="恢复"></a>恢复</h3><p>如果想恢复电子钟默认样式，按以下步骤进行即可</p><ul><li>删除添加的<code>#hexo_electric_clock</code></li><li>在<code>G:\Blog\_config.butterfly.yml</code>去除引用的<code>/css/hexo_electric_clock.css</code>，然后可以把电子钟的css文件删掉，也可以留着</li><li>恢复<code>G:\Blog\_config.butterfly.yml</code>的<code>electric_clock</code>默认配置</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">layout:</span> <span class="comment"># 挂载容器类型，默认配置</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">class</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">sticky_layout</span></span><br><span class="line">  <span class="attr">index:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
          <category> hexo笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 美化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown语法</title>
      <link href="/2024/09/07/Markdown%E8%AF%AD%E6%B3%95/"/>
      <url>/2024/09/07/Markdown%E8%AF%AD%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h3 id="Typora快捷键"><a href="#Typora快捷键" class="headerlink" title="Typora快捷键"></a>Typora快捷键</h3><table><thead><tr><th>功能</th><th>快捷键</th></tr></thead><tbody><tr><td>加粗</td><td>Ctrl + B</td></tr><tr><td>斜体</td><td>Ctrl + I</td></tr><tr><td>引用</td><td>Ctrl + Q(用不了)</td></tr><tr><td>插入链接（超链接）</td><td>Ctrl + K</td></tr><tr><td>代码(单行)</td><td>Ctrl + Shift + &#96;</td></tr><tr><td>代码块</td><td>Ctrl + Shift + K</td></tr><tr><td>插入图片</td><td>Ctrl + G  (直接复制进来进行)</td></tr><tr><td>提升标题</td><td>Ctrl + H</td></tr><tr><td>有序列表</td><td>Ctrl + O</td></tr><tr><td>下划线</td><td>Ctrl + U</td></tr><tr><td>横线</td><td>Ctrl + R</td></tr><tr><td>撤销</td><td>Ctrl + Z</td></tr><tr><td>重做</td><td>Ctrl + Y</td></tr></tbody></table><hr><h3 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h3><p>用**#**表示1-6级标记</p><p><strong>#</strong> –&gt; 一级标题</p><p><strong>##</strong> –&gt; 二级标题</p><p><strong>###</strong> –&gt; 三级标题</p><p>以此类推，最高六级标题</p><hr><h3 id="段落"><a href="#段落" class="headerlink" title="段落"></a>段落</h3><p>markdown的段落没有特殊格式，直接编写文字即可，在<strong>Typora</strong>中直接用鼠标点击或者按Enter即可另起新段落，<strong>段落的换行是使用两个以上空格加回车</strong>  </p><hr><h4 id="符号转义"><a href="#符号转义" class="headerlink" title="符号转义"></a>符号转义</h4><p>如果某些符号是markdown的标记符号，但是只需要显示原生符号而不是实现markdown语法，可以使用反斜杠 \ 进行转义</p><h3 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h3><p>markdown可以使用以下几种字体</p><ul><li><p>*斜体文本*     –&gt;  <em>斜体文本</em></p></li><li><p>_斜体文本_     –&gt;  <em>斜体文本</em></p></li><li><p>**粗体文本**     –&gt;  <strong>粗体文本</strong></p></li><li><p>__粗体文本__     –&gt;  <strong>粗体文本</strong></p></li><li><p>***粗体加斜体组合***     –&gt;  <em><strong>粗体加斜体组合</strong></em></p></li><li><p>___粗体加斜体组合___     –&gt;  <em><strong>粗体加斜体组合</strong></em></p></li></ul><hr><h3 id="分隔线"><a href="#分隔线" class="headerlink" title="分隔线"></a>分隔线</h3><p>可以使用三个以上的*、-、_来建立一个分隔线，行内不能有其他东西</p><hr><h3 id="删除线"><a href="#删除线" class="headerlink" title="删除线"></a>删除线</h3><p>~~删除线~~     –&gt;  <del>删除线</del></p><hr><h3 id="下划线"><a href="#下划线" class="headerlink" title="下划线"></a>下划线</h3><p>下划线可以通过HTML标签实现</p><p>&lt;u&gt;下划线样本&lt;&#x2F;u&gt;     –&gt;  <u>下划线样本</u></p><hr><h3 id="高亮样本"><a href="#高亮样本" class="headerlink" title="高亮样本"></a>高亮样本</h3><p>Markdown 本身不支持高亮，但可以使用 HTML 标记</p><p>&lt;mark&gt;高亮文本&lt;mark&gt;     –&gt;  <mark>高亮文本</mark></p><hr><h3 id="小型文本-大号文本"><a href="#小型文本-大号文本" class="headerlink" title="小型文本&amp;大号文本"></a>小型文本&amp;大号文本</h3><p>使用 HTML 标记</p><p>&lt;small&gt;小型文本&lt;&#x2F;small&gt;     –&gt;  <small>小型文本</small></p><p>&lt;big&gt;大号文本&lt;&#x2F;big&gt;  –&gt; <big>大号文本</big>(和****加粗****不一样)</p><p>许多额外的样式可以通过 HTML 标签实现，依赖于 Markdown 渲染器是否支持这些标签。大多数纯 Markdown 渲染器不支持识别 HTML 标签，但是Typora可以</p><hr><h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><p><strong>Markdown支持有序列表和无序列表</strong></p><p><strong>无序列表</strong>使用（*）、（+）或（-）作为列表的标记，这些标记后面要加一个空格</p><ul><li>第二项</li><li>第三项<ul><li>还可以使用缩进(Tab键)来创建子项<ul><li>3.1.1子项<ul><li>…</li></ul></li></ul></li></ul></li><li>…</li></ul><p><strong>有序列表</strong>使用数字并加上**.** 和空格表示</p><ol><li><p>第一项</p></li><li><p>第二项</p><ol><li>子项<ol><li>子项嵌套</li></ol></li></ol></li><li><p>第三项</p></li></ol><hr><h3 id="区块"><a href="#区块" class="headerlink" title="区块"></a>区块</h3><p>段落开头使用&gt;符号，后面紧跟一个空格符号</p><blockquote><p>区块的作用</p><p>让文字显得更加突出</p></blockquote><p>区块是可以嵌套的,一个&gt;符号代表最外层，两个&gt;符号是第一层嵌套</p><blockquote><p>区块嵌套</p><blockquote><p>子区块</p><blockquote><p>子子区块</p></blockquote></blockquote></blockquote><hr><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><p>使用**``**包裹的内容属于代码，也可以使用三个反引号```code```</p><p><code>printf(&quot;Hello World!&quot;)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">hello</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Hello, Markdown!&quot;</span>)</span><br><span class="line">hello()</span><br></pre></td></tr></table></figure><hr><h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><p>链接使用方法</p><p>[链接名称](链接地址)</p><p><a href="www.baidu.com">百度一下</a></p><hr><h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><p>语法如下</p><p>|表头1|表头2|表头3|</p><p>|:——-|:——–|:—–：|</p><p>|单元格|单元格|单元格|</p><p><strong>对齐方式</strong>（不太懂）</p><p>可以设置表格的对齐方式:</p><ul><li>-: 设置内容和标题栏居左对齐（默认对齐方式）</li><li>:- 设置内容和标题栏居右对齐</li><li>:-: 设置内容和标题栏居中对齐</li></ul><table><thead><tr><th align="center">姓名</th><th align="center">年龄</th></tr></thead><tbody><tr><td align="center">张三</td><td align="center">18</td></tr><tr><td align="center">李四</td><td align="center">20</td></tr></tbody></table><hr><h3 id="上标与下标"><a href="#上标与下标" class="headerlink" title="上标与下标"></a>上标与下标</h3><p>上标和下标可以通过 <code>^</code> 和 <code>~</code> 包裹需要标记的内容来实现（<strong>Typora不支持</strong>）</p><p>可以使用HTML语法实现：</p><p>这是一个上标的例子：E &#x3D; mc&lt;sup&gt;2&lt;&#x2F;sup&gt; —&gt; E &#x3D; mc<sup>2</sup></p><p>这是一个下标的例子：H&lt;sub&gt;2&lt;&#x2F;sub&gt;O —&gt; H<sub>2</sub>O</p><p><strong>上标:&lt;sup&gt;&lt;&#x2F;sup&gt;</strong>    superscript：上标</p><p><strong>下标：&lt;sub&gt;&lt;&#x2F;sub&gt;</strong>  subscript：下标</p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
          <category> markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo常用命令</title>
      <link href="/2024/09/06/Hexo%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>/2024/09/06/Hexo%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h3 id="初始化本地文件夹为网站根目录-当前环境为“G-Blog”"><a href="#初始化本地文件夹为网站根目录-当前环境为“G-Blog”" class="headerlink" title="初始化本地文件夹为网站根目录(当前环境为“G:\Blog”)"></a>初始化本地文件夹为网站根目录(当前环境为“G:\Blog”)</h3><p><code>hexo init</code></p><p>用于初始化一个新的 Hexo 博客项目。执行此命令时，它会创建一个新的 Hexo 项目目录结构，并在其中生成一些基础文件。这个命令用于第一次设置 Hexo 博客时</p><h3 id="创建新文章"><a href="#创建新文章" class="headerlink" title="创建新文章"></a>创建新文章</h3><p><code>hexo new &quot;文章title&quot;</code></p><p>使用hexo new “title”创建新文章。其中<strong>title</strong>表示文章标题，在我的PC环境下hexo会在“G:\Blog\source_posts”文件夹下自动创建.md文件，进入目录编辑该.md文件即可自由编写文章</p><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240906191115954.png" alt="image-20240906191115954"></p><h3 id="Front-matter"><a href="#Front-matter" class="headerlink" title="Front-matter"></a><strong>Front-matter</strong></h3><p>打开使用**hexo new “title”**创建的文章，可以看到.md文章开头有一段前置信息，即Front-matter，用于给Hexo渲染md文档，除了默认给出的title、date、tags三项之外，还可以自己添加配置项，常用配置项如下：</p><p>详细Front-matter介绍参考<a href="https://butterfly.js.org/posts/dc584b87/?highlight=front+matter">Butterfly官方文档</a></p><table><thead><tr><th>配置项</th><th>含义</th></tr></thead><tbody><tr><td>title</td><td>【必需】文章标题</td></tr><tr><td>date</td><td>【必需】文章创建日期</td></tr><tr><td>updated</td><td>【可选】页面更新日期</td></tr><tr><td>comments</td><td>文章评论功能是否启动（不懂）</td></tr><tr><td>tags</td><td>【可选】文章标签</td></tr><tr><td>categories</td><td>【可选】文章分类文章分类</td></tr><tr><td>keywords</td><td>【可选】文章关键字</td></tr><tr><td>description</td><td>【可选】页面描述</td></tr><tr><td>aside</td><td>【可选】显示侧边栏 (默认 true)</td></tr><tr><td>top_img</td><td>【可选】页面顶部图片</td></tr><tr><td>mathjax</td><td>【可选】显示mathjax(当设置 mathjax 的 per_page: false 时，才需要配置，默认 false )</td></tr><tr><td>….</td><td>…</td></tr></tbody></table><p><img src="https://liu-hexo.oss-cn-guangzhou.aliyuncs.com/Hexo/image-20240906193007442.png" alt="image-20240906193007442"></p><h3 id="生成文章"><a href="#生成文章" class="headerlink" title="生成文章"></a>生成文章</h3><p><code>hexo generate</code></p><p><code>hexo g</code></p><p>用于生成静态文件，两种写法都行，一般用下面那种，更加方便</p><h3 id="预览文章"><a href="#预览文章" class="headerlink" title="预览文章"></a>预览文章</h3><p><code>hexo server</code></p><p><code>hexo s</code></p><p>生成页面后，可以开启本地服务器预览一下是否满意，默认端口为4000；由于我在阿里云图床设置了图片防盗链，只有在博客的reference打开文章才能看到文章的图片，在本地预览是看不到文章中的图片的，<strong>http:&#x2F;&#x2F;*.aliyun.com</strong>和<strong>博客的域名</strong>是图床的白名单，其他reference都无法查看图片，也不允许没有reference请求头，以便节省OSS下行流量费用</p><h3 id="部署文章到远程服务器（当前使用github-pages）"><a href="#部署文章到远程服务器（当前使用github-pages）" class="headerlink" title="部署文章到远程服务器（当前使用github pages）"></a>部署文章到远程服务器（当前使用github pages）</h3><p><code>hexo deploy</code></p><p><code>hexo d</code></p><p>用于部署网站，一般简写成<strong>hexo d</strong>，将文章部署到远端服务器上，以便能通过github pages功能实现互联网访问</p><h3 id="清理缓存"><a href="#清理缓存" class="headerlink" title="清理缓存"></a>清理缓存</h3><p><code>hexo clean</code></p><p>用于清理缓存文件，是一个比较常用的命令。通常在 <strong>hexo g</strong>（生成静态文件）和 <strong>hexo d</strong>（部署到服务器）<strong>之前</strong>使用。它的作用是清理 Hexo 的缓存文件和生成的静态文件，以确保新的生成过程不受旧文件的影响，使用 <code>hexo clean</code> 可以确保生成的内容是最新的</p><h3 id="hexo根目录文件结构"><a href="#hexo根目录文件结构" class="headerlink" title="hexo根目录文件结构"></a>hexo根目录文件结构</h3><ul><li>source&#x2F; :存放文章内容的目录，发布的文章都在这个目录下，即.md文章源码的存储地</li><li>themes&#x2F;：存放主题的目录</li><li>_config.yml：Hexo 的主配置文件(重要)</li><li>package.json：Node.js 项目的依赖配置文件</li><li>scaffolds&#x2F;：定义内容模板，这些模板在创建新文章或页面时自动填充一些基本内容和结构，例如时间、title</li></ul><hr><hr><hr><p>除了上面常用的命令外，hexo还有一些其他命令，但是用得比较少，也有一些可以设置参数的命令，例如<code>hexo s</code>的</p><ul><li>-p: 指定服务器端口，默认为 4000</li><li>-i: 指定服务器 IP 地址，默认为 0.0.0.0,localhost</li><li>-s: 静态模式 ，仅提供 public 文件夹中的文件并禁用文件监视</li></ul><p>etc……</p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
          <category> hexo笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 常用命令 </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
